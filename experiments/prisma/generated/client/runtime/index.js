var mr=Object.defineProperty,Uc=Object.prototype.hasOwnProperty,g=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),us=e=>mr(e,"__esModule",{value:!0}),Gc=(e,t)=>{us(e);for(var r in t)mr(e,r,{get:t[r],enumerable:!0})},zc=(e,t)=>{if(us(e),typeof t=="object"||typeof t=="function")for(let r in t)!Uc.call(e,r)&&r!=="default"&&mr(e,r,{get:()=>t[r],enumerable:!0});return e},_=e=>e&&e.__esModule?e:zc(mr({},"default",{value:e,enumerable:!0}),e);var ds=g((ay,cs)=>{"use strict";cs.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var An=g((ly,ps)=>{const Nt=ds(),fs={};for(const e of Object.keys(Nt))fs[Nt[e]]=e;const E={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ps.exports=E;for(const e of Object.keys(E)){if(!("channels"in E[e]))throw new Error("missing channels property: "+e);if(!("labels"in E[e]))throw new Error("missing channel labels property: "+e);if(E[e].labels.length!==E[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=E[e];delete E[e].channels,delete E[e].labels,Object.defineProperty(E[e],"channels",{value:t}),Object.defineProperty(E[e],"labels",{value:r})}E.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,l;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);const u=(i+s)/2;return s===i?l=0:u<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,u*100]};E.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,l=e[2]/255,u=Math.max(o,a,l),c=u-Math.min(o,a,l),d=function(p){return(u-p)/6/c+1/2};return c===0?(i=0,s=0):(s=c/u,t=d(o),r=d(a),n=d(l),o===u?i=n-r:a===u?i=1/3+t-n:l===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};E.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=E.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};E.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function Hc(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}E.rgb.keyword=function(e){const t=fs[e];if(t)return t;let r=Infinity,n;for(const i of Object.keys(Nt)){const s=Nt[i],o=Hc(e,s);o<r&&(r=o,n=i)}return n};E.keyword.rgb=function(e){return Nt[e]};E.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};E.rgb.lab=function(e){const t=E.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};E.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;const a=2*n-i,l=[0,0,0];for(let u=0;u<3;u++)s=t+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,l[u]=o*255;return l};E.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;const o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};E.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));n*=255;switch(i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}};E.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};E.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);const l=r+s*(a-r);let u,c,d;switch(o){default:case 6:case 0:u=a,c=l,d=r;break;case 1:u=l,c=a,d=r;break;case 2:u=r,c=a,d=l;break;case 3:u=r,c=l,d=a;break;case 4:u=l,c=r,d=a;break;case 5:u=a,c=r,d=l;break}return[u*255,c*255,d*255]};E.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};E.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};E.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};E.lab.xyz=function(e){const t=e[0],r=e[1],n=e[2];let i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;const a=s**3,l=i**3,u=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=u>.008856?u:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};E.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;const s=Math.atan2(n,r);i=s*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(r*r+n*n);return[t,o,i]};E.lch.lab=function(e){const t=e[0],r=e[1],n=e[2],i=n/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};E.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=t===null?E.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};E.hsv.ansi16=function(e){return E.rgb.ansi16(E.hsv.rgb(e),e[2])};E.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;const i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};E.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};E.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};E.rgb.hex=function(e){const t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};E.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));const n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};E.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===t?l=(r-n)/o%6:i===r?l=2+(n-t)/o:l=4+(t-r)/o,l/=6,l%=1,[l*360,o*100,a*100]};E.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};E.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};E.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};E.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);let i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};E.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};E.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};E.hwb.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=1-r,i=n-t;let s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};E.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};E.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};E.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};E.gray.hsl=function(e){return[0,0,e[0]]};E.gray.hsv=E.gray.hsl;E.gray.hwb=function(e){return[0,100,e[0]]};E.gray.cmyk=function(e){return[0,0,0,e[0]]};E.gray.lab=function(e){return[e[0],0,0]};E.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};E.rgb.gray=function(e){const t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var ms=g((uy,hs)=>{const gr=An();function Wc(){const e={},t=Object.keys(gr);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function Vc(e){const t=Wc(),r=[e];for(t[e].distance=0;r.length;){const n=r.pop(),i=Object.keys(gr[n]);for(let s=i.length,o=0;o<s;o++){const a=i[o],l=t[a];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(a))}}return t}function Jc(e,t){return function(r){return t(e(r))}}function Yc(e,t){const r=[t[e].parent,e];let n=gr[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=Jc(gr[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}hs.exports=function(e){const t=Vc(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){const o=n[s],a=t[o];if(a.parent===null)continue;r[o]=Yc(o,t)}return r}});var ys=g((cy,gs)=>{const Dn=An(),Qc=ms(),tt={},Kc=Object.keys(Dn);function Xc(e){const t=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Zc(e){const t=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}Kc.forEach(e=>{tt[e]={},Object.defineProperty(tt[e],"channels",{value:Dn[e].channels}),Object.defineProperty(tt[e],"labels",{value:Dn[e].labels});const t=Qc(e),r=Object.keys(t);r.forEach(n=>{const i=t[n];tt[e][n]=Zc(i),tt[e][n].raw=Xc(i)})});gs.exports=tt});var Es=g((dy,ws)=>{"use strict";const bs=(e,t)=>(...r)=>{const n=e(...r);return`[${n+t}m`},Ms=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},vs=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},yr=e=>e,Ts=(e,t,r)=>[e,t,r],rt=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let xn;const nt=(e,t,r,n)=>{xn===void 0&&(xn=ys());const i=n?10:0,s={};for(const[o,a]of Object.entries(xn)){const l=o==="ansi16"?"ansi":o;o===t?s[l]=e(r,i):typeof a=="object"&&(s[l]=e(a[t],i))}return s};function ed(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,n]of Object.entries(t)){for(const[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",rt(t.color,"ansi",()=>nt(bs,"ansi16",yr,!1)),rt(t.color,"ansi256",()=>nt(Ms,"ansi256",yr,!1)),rt(t.color,"ansi16m",()=>nt(vs,"rgb",Ts,!1)),rt(t.bgColor,"ansi",()=>nt(bs,"ansi16",yr,!0)),rt(t.bgColor,"ansi256",()=>nt(Ms,"ansi256",yr,!0)),rt(t.bgColor,"ansi16m",()=>nt(vs,"rgb",Ts,!0)),t}Object.defineProperty(ws,"exports",{enumerable:!0,get:ed})});var Sn=g((py,As)=>{"use strict";As.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var wr=g((fy,Ds)=>{"use strict";const td=require("os"),xs=require("tty"),le=Sn(),{env:B}=process;let Ce;le("no-color")||le("no-colors")||le("color=false")||le("color=never")?Ce=0:(le("color")||le("colors")||le("color=true")||le("color=always"))&&(Ce=1);"FORCE_COLOR"in B&&(B.FORCE_COLOR==="true"?Ce=1:B.FORCE_COLOR==="false"?Ce=0:Ce=B.FORCE_COLOR.length===0?1:Math.min(parseInt(B.FORCE_COLOR,10),3));function Cn(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function On(e,t){if(Ce===0)return 0;if(le("color=16m")||le("color=full")||le("color=truecolor"))return 3;if(le("color=256"))return 2;if(e&&!t&&Ce===void 0)return 0;const r=Ce||0;if(B.TERM==="dumb")return r;if(process.platform==="win32"){const n=td.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in B)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in B)||B.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in B)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(B.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in B)return 1;if(B.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in B){const n=parseInt((B.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(B.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(B.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(B.TERM)||"COLORTERM"in B?1:r}function rd(e){const t=On(e,e&&e.isTTY);return Cn(t)}Ds.exports={supportsColor:rd,stdout:Cn(On(!0,xs.isatty(1))),stderr:Cn(On(!0,xs.isatty(2)))}});var Cs=g((hy,Ss)=>{"use strict";const nd=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;const i=t.length;let s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},id=(e,t,r,n)=>{let i=0,s="";do{const o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};Ss.exports={stringReplaceAll:nd,stringEncaseCRLFWithFirstIndex:id}});var _s=g((my,Os)=>{"use strict";const sd=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Is=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,od=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ad=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,ld=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function ks(e){const t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):ld.get(e)||e}function ud(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const s of n){const o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(od))r.push(i[2].replace(ad,(a,l,u)=>l?ks(l):u));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function cd(e){Is.lastIndex=0;const t=[];let r;for(;(r=Is.exec(e))!==null;){const n=r[1];if(r[2]){const i=ud(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function Rs(e,t){const r={};for(const i of t)for(const s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(const[i,s]of Object.entries(r)){if(!Array.isArray(s))continue;if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}Os.exports=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(sd,(s,o,a,l,u,c)=>{if(o)i.push(ks(o));else if(l){const d=i.join("");i=[],n.push(r.length===0?d:Rs(e,r)(d)),r.push({inverse:a,styles:cd(l)})}else if(u){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Rs(e,r)(i.join(""))),i=[],r.pop()}else i.push(c)}),n.push(i.join("")),r.length>0){const s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var ve=g((gy,Ps)=>{"use strict";const qt=Es(),{stdout:In,stderr:kn}=wr(),{stringReplaceAll:dd,stringEncaseCRLFWithFirstIndex:pd}=Cs(),{isArray:br}=Array,Ls=["ansi","ansi","ansi256","ansi16m"],it=Object.create(null),fd=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=In?In.level:0;e.level=t.level===void 0?r:t.level};class hd{constructor(e){return Ns(e)}}const Ns=e=>{const t={};return fd(t,e),t.template=(...r)=>qs(t.template,...r),Object.setPrototypeOf(t,Mr.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=hd,t.template};function Mr(e){return Ns(e)}for(const[e,t]of Object.entries(qt))it[e]={get(){const r=vr(this,Rn(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};it.visible={get(){const e=vr(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Fs=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of Fs)it[e]={get(){const{level:t}=this;return function(...r){const n=Rn(qt.color[Ls[t]][e](...r),qt.color.close,this._styler);return vr(this,n,this._isEmpty)}}};for(const e of Fs){const t="bg"+e[0].toUpperCase()+e.slice(1);it[t]={get(){const{level:r}=this;return function(...n){const i=Rn(qt.bgColor[Ls[r]][e](...n),qt.bgColor.close,this._styler);return vr(this,i,this._isEmpty)}}}}const md=Object.defineProperties(()=>{},{...it,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),Rn=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},vr=(e,t,r)=>{const n=(...i)=>br(i[0])&&br(i[0].raw)?js(n,qs(n,...i)):js(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,md),n._generator=e,n._styler=t,n._isEmpty=r,n},js=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;const{openAll:n,closeAll:i}=r;if(t.indexOf("")!==-1)for(;r!==void 0;)t=dd(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=pd(t,i,n,s)),n+t+i};let _n;const qs=(e,...t)=>{const[r]=t;if(!br(r)||!br(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return _n===void 0&&(_n=_s()),_n(e,i.join(""))};Object.defineProperties(Mr.prototype,it);const Tr=Mr();Tr.supportsColor=In;Tr.stderr=Mr({level:kn?kn.level:0});Tr.stderr.supportsColor=kn;Ps.exports=Tr});var Er=g((yy,$s)=>{"use strict";$s.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;const n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Us=g((wy,Bs)=>{"use strict";Bs.exports=function(){function e(t,r,n,i,s){return t<r||n<r?t>n?n+1:t+1:i===s?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,s=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(s-1);)i--,s--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(i-=o,s-=o,i===0||s<3)return s;var a=0,l,u,c,d,p,f,h,y,m,w,M,b,v=[];for(l=0;l<i;l++)v.push(l+1),v.push(t.charCodeAt(o+l));for(var A=v.length-1;a<s-3;)for(m=r.charCodeAt(o+(u=a)),w=r.charCodeAt(o+(c=a+1)),M=r.charCodeAt(o+(d=a+2)),b=r.charCodeAt(o+(p=a+3)),f=a+=4,l=0;l<A;l+=2)h=v[l],y=v[l+1],u=e(h,u,c,m,y),c=e(u,c,d,w,y),d=e(c,d,p,M,y),f=e(d,p,f,b,y),v[l]=f,p=d,d=c,c=u,u=h;for(;a<s;)for(m=r.charCodeAt(o+(u=a)),f=++a,l=0;l<A;l+=2)h=v[l],v[l]=f=e(h,u,f,m,v[l+1]),u=h;return f}}()});var zs=g((by,Gs)=>{"use strict";Gs.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var Ft=g((My,Hs)=>{"use strict";const gd=zs();Hs.exports=e=>typeof e=="string"?e.replace(gd(),""):e});var Vs=g((vy,Ws)=>{"use strict";Ws.exports=e=>Object.prototype.toString.call(e)==="[object RegExp]"});var Ys=g((Ty,Js)=>{"use strict";Js.exports=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")}});var Qs=g(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.default=e=>Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))});var Ks=g(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});var jt="<unknown>";function Td(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=yd(n)||wd(n)||bd(n)||vd(n)||Md(n);return i&&r.push(i),r},[])}var Ed=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ad=/\((\S*)(?::(\d+))(?::(\d+))\)/;function yd(e){var t=Ed.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=Ad.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||jt,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var Dd=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function wd(e){var t=Dd.exec(e);return t?{file:t[2],methodName:t[1]||jt,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var xd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Sd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function bd(e){var t=xd.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Sd.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||jt,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var Cd=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Md(e){var t=Cd.exec(e);return t?{file:t[3],methodName:t[1]||jt,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var Od=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function vd(e){var t=Od.exec(e);return t?{file:t[2],methodName:t[1]||jt,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}Ln.parse=Td});var Zs=g((Dy,Xs)=>{"use strict";Xs.exports=e=>{const t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((r,n)=>Math.min(r,n.length),Infinity):0}});var to=g((xy,eo)=>{"use strict";const Id=Zs();eo.exports=e=>{const t=Id(e);if(t===0)return e;const r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}});var no=g((Sy,ro)=>{var st=1e3,ot=st*60,at=ot*60,Ue=at*24,kd=Ue*7,Rd=Ue*365.25;ro.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return _d(e);if(r==="number"&&isFinite(e))return t.long?Ld(e):Pd(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function _d(e){if(e=String(e),e.length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Rd;case"weeks":case"week":case"w":return r*kd;case"days":case"day":case"d":return r*Ue;case"hours":case"hour":case"hrs":case"hr":case"h":return r*at;case"minutes":case"minute":case"mins":case"min":case"m":return r*ot;case"seconds":case"second":case"secs":case"sec":case"s":return r*st;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}function Pd(e){var t=Math.abs(e);return t>=Ue?Math.round(e/Ue)+"d":t>=at?Math.round(e/at)+"h":t>=ot?Math.round(e/ot)+"m":t>=st?Math.round(e/st)+"s":e+"ms"}function Ld(e){var t=Math.abs(e);return t>=Ue?Ar(e,t,Ue,"day"):t>=at?Ar(e,t,at,"hour"):t>=ot?Ar(e,t,ot,"minute"):t>=st?Ar(e,t,st,"second"):e+" ms"}function Ar(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Nn=g((Cy,io)=>{function Nd(e){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=s,r.enabled=a,r.humanize=no(),Object.keys(e).forEach(c=>{r[c]=e[c]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function t(c){let d=0;for(let p=0;p<c.length;p++)d=(d<<5)-d+c.charCodeAt(p),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(c){let d;function p(...f){if(!p.enabled)return;const h=p,y=Number(new Date),m=y-(d||y);h.diff=m,h.prev=d,h.curr=y,d=y,f[0]=r.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let w=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(b,v)=>{if(b==="%%")return b;w++;const A=r.formatters[v];if(typeof A=="function"){const P=f[w];b=A.call(h,P),f.splice(w,1),w--}return b}),r.formatArgs.call(h,f);const M=h.log||r.log;M.apply(h,f)}return p.namespace=c,p.enabled=r.enabled(c),p.useColors=r.useColors(),p.color=t(c),p.destroy=n,p.extend=i,typeof r.init=="function"&&r.init(p),r.instances.push(p),p}function n(){const c=r.instances.indexOf(this);return c!==-1?(r.instances.splice(c,1),!0):!1}function i(c,d){const p=r(this.namespace+(typeof d=="undefined"?":":d)+c);return p.log=this.log,p}function s(c){r.save(c),r.names=[],r.skips=[];let d;const p=(typeof c=="string"?c:"").split(/[\s,]+/),f=p.length;for(d=0;d<f;d++){if(!p[d])continue;c=p[d].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$"))}for(d=0;d<r.instances.length;d++){const h=r.instances[d];h.enabled=r.enabled(h.namespace)}}function o(){const c=[...r.names.map(l),...r.skips.map(l).map(d=>"-"+d)].join(",");return r.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let d,p;for(d=0,p=r.skips.length;d<p;d++)if(r.skips[d].test(c))return!1;for(d=0,p=r.names.length;d<p;d++)if(r.names[d].test(c))return!0;return!1}function l(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}return r.enable(r.load()),r}io.exports=Nd});var so=g((ue,Dr)=>{ue.log=qd;ue.formatArgs=Fd;ue.save=jd;ue.load=$d;ue.useColors=Bd;ue.storage=Ud();ue.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Bd(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Fd(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Dr.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{if(i==="%%")return;r++,i==="%c"&&(n=r)}),e.splice(n,0,t)}function qd(...e){return typeof console=="object"&&console.log&&console.log(...e)}function jd(e){try{e?ue.storage.setItem("debug",e):ue.storage.removeItem("debug")}catch(t){}}function $d(){let e;try{e=ue.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function Ud(){try{return localStorage}catch(e){}}Dr.exports=Nn()(ue);const{formatters:Gd}=Dr.exports;Gd.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ao=g((V,xr)=>{const zd=require("tty"),qn=require("util");V.init=Hd;V.log=Wd;V.formatArgs=Vd;V.save=Jd;V.load=Yd;V.useColors=Qd;V.colors=[6,2,3,4,5,1];try{const e=wr();e&&(e.stderr||e).level>=2&&(V.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}V.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase());let n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Qd(){return"colors"in V.inspectOpts?Boolean(V.inspectOpts.colors):zd.isatty(process.stderr.fd)}function Vd(e){const{namespace:t,useColors:r}=this;if(r){const n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} [0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+xr.exports.humanize(this.diff)+"[0m")}else e[0]=Kd()+t+" "+e[0]}function Kd(){return V.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Wd(...e){return process.stderr.write(qn.format(...e)+`
`)}function Jd(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function Yd(){return process.env.DEBUG}function Hd(e){e.inspectOpts={};const t=Object.keys(V.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=V.inspectOpts[t[r]]}xr.exports=Nn()(V);const{formatters:oo}=xr.exports;oo.o=function(e){return this.inspectOpts.colors=this.useColors,qn.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};oo.O=function(e){return this.inspectOpts.colors=this.useColors,qn.inspect(e,this.inspectOpts)}});var jn=g((Oy,Fn)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Fn.exports=so():Fn.exports=ao()});var $t=g(Ge=>{"use strict";var Xd=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getLogs=void 0;const Sr=Xd(jn()),Cr=[],Zd=100,lo=[],Or=new Map,uo=process.env.DEBUG?process.env.DEBUG+",":"",ep=Sr.default.skips.slice(),tp=Sr.default.names.slice();function rp(e){if(e[e.length-1]==="*")return!0;for(const t of ep)if(t.test(e))return!1;for(const t of tp)if(t.test(e))return!0;return!1}function $n(e){const t=Sr.default(e);lo.push(e),Sr.default.enable(uo+lo.join(",")),process.env.DEBUG=uo,rp(e)&&Or.set(e,!0);const r=(n,...i)=>t(n,...i);return r.log=console.error.bind(console),r.color=t.color,r.namespace=t.namespace,r.enabled=t.enabled,r.destroy=t.destroy,r.extend=t.extend,t.log=(...n)=>{Cr.push(n),Cr.length>Zd&&Cr.shift(),Or.has(e)&&r.log(...n)},r}Ge.default=$n;$n.enable=e=>{Or.set(e,!0)};$n.enabled=e=>Or.has(e);function np(e=7500){let t=Cr.map(r=>r.join("  ")).join(`
`);return t.length<e?t:t.slice(-e)}Ge.getLogs=np});var Bn=g(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.convertLog=lt.isRustError=void 0;function ip(e){return typeof e.is_panic!="undefined"}lt.isRustError=ip;function op(e){const t=sp(e.fields),r=t?"query":e.level.toLowerCase();return{...e,level:r,timestamp:new Date(new Date().getFullYear()+" "+e.timestamp)}}lt.convertLog=op;function sp(e){return Boolean(e.query)}});var po=g((Ry,Un)=>{"use strict";const O=Un.exports;Un.exports.default=O;const k="[",Bt="]",ut="\x07",Ir=";",co=process.env.TERM_PROGRAM==="Apple_Terminal";O.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?k+(e+1)+"G":k+(t+1)+";"+(e+1)+"H"};O.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=k+-e+"D":e>0&&(r+=k+e+"C"),t<0?r+=k+-t+"A":t>0&&(r+=k+t+"B"),r};O.cursorUp=(e=1)=>k+e+"A";O.cursorDown=(e=1)=>k+e+"B";O.cursorForward=(e=1)=>k+e+"C";O.cursorBackward=(e=1)=>k+e+"D";O.cursorLeft=k+"G";O.cursorSavePosition=co?"7":k+"s";O.cursorRestorePosition=co?"8":k+"u";O.cursorGetPosition=k+"6n";O.cursorNextLine=k+"E";O.cursorPrevLine=k+"F";O.cursorHide=k+"?25l";O.cursorShow=k+"?25h";O.eraseLines=e=>{let t="";for(let r=0;r<e;r++)t+=O.eraseLine+(r<e-1?O.cursorUp():"");return e&&(t+=O.cursorLeft),t};O.eraseEndLine=k+"K";O.eraseStartLine=k+"1K";O.eraseLine=k+"2K";O.eraseDown=k+"J";O.eraseUp=k+"1J";O.eraseScreen=k+"2J";O.scrollUp=k+"S";O.scrollDown=k+"T";O.clearScreen="c";O.clearTerminal=process.platform==="win32"?`${O.eraseScreen}${k}0f`:`${O.eraseScreen}${k}3J${k}H`;O.beep=ut;O.link=(e,t)=>[Bt,"8",Ir,Ir,t,ut,e,Bt,"8",Ir,Ir,ut].join("");O.image=(e,t={})=>{let r=`${Bt}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+ut};O.iTerm={setCwd:(e=process.cwd())=>`${Bt}50;CurrentDir=${e}${ut}`,annotation:(e,t={})=>{let r=`${Bt}1337;`;const n=typeof t.x!="undefined",i=typeof t.y!="undefined";if((n||i)&&!(n&&i&&typeof t.length!="undefined"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+ut}}});var mo=g((_y,fo)=>{"use strict";const ap=wr(),ct=Sn();function ho(e){if(/^\d{3,4}$/.test(e)){const r=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(r[1],10),patch:parseInt(r[2],10)}}const t=(e||"").split(".").map(r=>parseInt(r,10));return{major:t[0],minor:t[1],patch:t[2]}}function Gn(e){const{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&parseInt(t.FORCE_HYPERLINK,10)===0);if(ct("no-hyperlink")||ct("no-hyperlinks")||ct("hyperlink=false")||ct("hyperlink=never"))return!1;if(ct("hyperlink=true")||ct("hyperlink=always"))return!0;if(!ap.supportsColor(e))return!1;if(e&&!e.isTTY)return!1;if(process.platform==="win32")return!1;if("CI"in t)return!1;if("TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){const r=ho(t.TERM_PROGRAM_VERSION);switch(t.TERM_PROGRAM){case"iTerm.app":return r.major===3?r.minor>=1:r.major>3}}if("VTE_VERSION"in t){if(t.VTE_VERSION==="0.50.0")return!1;const r=ho(t.VTE_VERSION);return r.major>0||r.minor>=50}return!1}fo.exports={supportsHyperlink:Gn,stdout:Gn(process.stdout),stderr:Gn(process.stderr)}});var yo=g((Py,Ut)=>{"use strict";const lp=po(),zn=mo(),go=(e,t,{target:r="stdout",...n}={})=>zn[r]?lp.link(e,t):n.fallback===!1?e:typeof n.fallback=="function"?n.fallback(e,t):`${e} (â€‹${t}â€‹)`;Ut.exports=(e,t,r={})=>go(e,t,r);Ut.exports.stderr=(e,t,r={})=>go(e,t,{target:"stderr",...r});Ut.exports.isSupported=zn.stdout;Ut.exports.stderr.isSupported=zn.stderr});var wo=g((Ly,kr)=>{"use strict";kr.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");const r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(const i of n){let s=e[i];if(s===void 0)continue;if(i==="labels"||i==="projects"){if(!Array.isArray(s))throw new TypeError(`The \`${i}\` option should be an array`);s=s.join(",")}r.searchParams.set(i,s)}return r.toString()};kr.exports.default=kr.exports});var Rr=g(re=>{"use strict";var dt=re&&re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(re,"__esModule",{value:!0});re.getRandomString=re.getGithubIssueUrl=re.link=re.fixBinaryTargets=re.plusX=void 0;const bo=dt(require("fs")),up=dt(yo()),cp=dt(wo()),dp=dt(ve()),pp=dt($t()),fp=dt(require("crypto")),Mo=pp.default("plusX");function hp(e){const t=bo.default.statSync(e),r=t.mode|64|8|1;if(t.mode===r){Mo(`Execution permissions of ${e} are fine`);return}const n=r.toString(8).slice(-3);Mo(`Have to call plusX on ${e}`),bo.default.chmodSync(e,n)}re.plusX=hp;function mp(e,t){return e=e||[],e.includes("native")?[...e,t]:["native",...e]}re.fixBinaryTargets=mp;function gp(e){return up.default(e,e,{fallback:t=>dp.default.underline(t)})}re.link=gp;function yp({title:e,user:t="prisma",repo:r="prisma-client-js",template:n="bug_report.md",body:i}){return cp.default({user:t,repo:r,template:n,title:e,body:i})}re.getGithubIssueUrl=yp;function wp(){return fp.default.randomBytes(12).toString("hex")}re.getRandomString=wp});var Hn=g(G=>{"use strict";var bp=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G,"__esModule",{value:!0});G.getErrorMessageWithLink=G.PrismaClientInitializationError=G.PrismaClientRustPanicError=G.PrismaClientUnknownRequestError=G.PrismaClientKnownRequestError=G.getMessage=G.PrismaQueryEngineError=void 0;const Mp=Bn(),vp=$t(),vo=Rr(),To=bp(Ft());class Tp extends Error{constructor(e,t){super(e);this.code=t}}G.PrismaQueryEngineError=Tp;function Ep(e){return typeof e=="string"?e:Mp.isRustError(e)?e.message:e.fields&&e.fields.message?e.fields.reason?`${e.fields.message}: ${e.fields.reason}`:e.fields.message:JSON.stringify(e)}G.getMessage=Ep;class Ap extends Error{constructor(e,t,r){super(e);this.code=t,this.meta=r}}G.PrismaClientKnownRequestError=Ap;class Dp extends Error{constructor(e){super(e)}}G.PrismaClientUnknownRequestError=Dp;class xp extends Error{constructor(e){super(e)}}G.PrismaClientRustPanicError=xp;class Sp extends Error{constructor(e){super(e)}}G.PrismaClientInitializationError=Sp;function Op({version:e,platform:t,title:r,description:n}){const i=Cp(To.default(vp.getLogs())),s=n?`# Description
\`\`\`
${n}
\`\`\``:"",o=To.default(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name     | Version            |
|----------|--------------------|
| Node     | ${process.version.padEnd(19)}| 
| OS       | ${t.padEnd(19)}|
| Prisma   | ${e.padEnd(19)}|

${s}

## Logs
\`\`\`
${i}
\`\`\``),a=vo.getGithubIssueUrl({title:r,body:o});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${vo.link(a)}

If you want the Prisma team to look into it, please open the link above ðŸ™
`}G.getErrorMessageWithLink=Op;function Cp(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}});var Ro=g(J=>{"use strict";var Eo=J&&J.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J,"__esModule",{value:!0});J.getPlatform=J.getOpenSSLVersion=J.parseOpenSSLVersion=J.resolveDistro=J.parseDistro=J.getos=void 0;const Ip=Eo(require("os")),Ao=Eo(require("fs")),Do=require("util"),kp=require("child_process"),Rp=Do.promisify(Ao.default.readFile),xo=Do.promisify(Ao.default.exists);async function Oo(){const e=Ip.default.platform();if(e==="freebsd"){const t=await Wn("freebsd-version");if(t&&t.trim().length>0){const r=/^(\d+)\.?/,n=r.exec(t);if(n)return{platform:"freebsd",distro:`freebsd${n[1]}`}}}return e!=="linux"?{platform:e}:{platform:"linux",libssl:await Co(),distro:await So()}}J.getos=Oo;function Io(e){const t=/^ID="?([^"\n]*)"?$/im,r=/^ID_LIKE="?([^"\n]*)"?$/im,n=t.exec(e),i=n&&n[1]&&n[1].toLowerCase()||"",s=r.exec(e),o=s&&s[1]&&s[1].toLowerCase()||"";return i==="raspbian"?"arm":i==="nixos"?"nixos":o.includes("centos")||o.includes("fedora")||o.includes("rhel")||i==="fedora"?"rhel":o.includes("debian")||o.includes("ubuntu")||i==="debian"?"debian":void 0}J.parseDistro=Io;async function So(){const e="/etc/os-release",t="/etc/alpine-release";return await xo(t)?"musl":await xo(e)?Io(await Rp(e,"utf-8")):void 0}J.resolveDistro=So;function ko(e){const t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);return t?t[1]+".x":void 0}J.parseOpenSSLVersion=ko;async function Co(){const[e,t]=await Promise.all([Wn("openssl version -v"),Wn(`
      ls -l /lib64 | grep ssl;
      ls -l /usr/lib64 | grep ssl;
    `)]);if(e){const r=ko(e);if(r)return r}if(t){const r=/libssl\.so\.(\d+\.\d+)\.\d+/.exec(t);if(r)return r[1]+".x"}return}J.getOpenSSLVersion=Co;async function Wn(e){return new Promise(t=>{try{kp.exec(e,(r,n)=>{t(String(n))})}catch(r){t(void 0);return}})}async function _p(){const{platform:e,libssl:t,distro:r}=await Oo();return e==="darwin"?"darwin":e==="win32"?"windows":e==="freebsd"?r:e==="openbsd"?"openbsd":e==="netbsd"?"netbsd":e==="linux"&&r==="nixos"?"linux-nixos":e==="linux"&&r==="musl"?"linux-musl":e==="linux"&&r&&t?r+"-openssl-"+t:t?"debian-openssl-"+t:r?r+"-openssl-1.1.x":"debian-openssl-1.1.x"}J.getPlatform=_p});var Vn=g(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.mayBeCompatible=pt.platforms=void 0;pt.platforms=["darwin","debian-openssl-1.0.x","debian-openssl-1.1.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","linux-musl","linux-nixos","windows","freebsd11","freebsd12","openbsd","netbsd","arm"];function Pp(e,t){return e.startsWith("freebsd")||t.startsWith("freebsd")?!1:e==="native"||t==="native"?!0:e==="darwin"||t==="darwin"?!1:!(e==="windows"||t==="windows")}pt.mayBeCompatible=Pp});var Po=g(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.platforms=ye.mayBeCompatible=ye.getos=ye.getPlatform=void 0;var _o=Ro();Object.defineProperty(ye,"getPlatform",{enumerable:!0,get:function(){return _o.getPlatform}});Object.defineProperty(ye,"getos",{enumerable:!0,get:function(){return _o.getos}});var Lp=Vn();Object.defineProperty(ye,"mayBeCompatible",{enumerable:!0,get:function(){return Lp.mayBeCompatible}});var Np=Vn();Object.defineProperty(ye,"platforms",{enumerable:!0,get:function(){return Np.platforms}})});var Jn=g(we=>{"use strict";var qp=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(we,"__esModule",{value:!0});we.printDatamodelObject=we.GeneratorConfigClass=we.printGeneratorConfig=void 0;const Fp=qp(Er());function jp(e){return String(new Lo(e))}we.printGeneratorConfig=jp;class Lo{constructor(e){this.config=e}toString(){const{config:e}=this,t=JSON.parse(JSON.stringify({provider:e.provider,binaryTargets:e.binaryTargets||void 0}));return`generator ${e.name} {
${Fp.default(No(t),2)}
}`}}we.GeneratorConfigClass=Lo;function No(e){const t=Object.keys(e).reduce((r,n)=>Math.max(r,n.length),0);return Object.entries(e).map(([r,n])=>`${r.padEnd(t)} = ${$p(n)}`).join(`
`)}we.printDatamodelObject=No;function $p(e){return JSON.parse(JSON.stringify(e,(t,r)=>Array.isArray(r)?`[${r.map(n=>JSON.stringify(n)).join(", ")}]`:JSON.stringify(r)))}});var Qn=g((Gt,_r)=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.createLineStream=void 0;var Yn=require("stream"),Bp=require("util");function Up(e,t){return _r.exports.createStream(e,t)}Gt.default=Up;_r.exports.createStream=function(e,t){return e?qo(e,t):new Oe(t)};function qo(e,t){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");var r=new Oe(t);return e.pipe(r),r}Gt.createLineStream=qo;_r.exports.LineStream=Oe;function Oe(e){Yn.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(t){this.encoding||t instanceof Yn.Readable&&(this.encoding=t._readableState.encoding)})}Bp.inherits(Oe,Yn.Transform);Oe.prototype._transform=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)&&(t=="buffer"?(e=e.toString(),t="utf8"):e=e.toString(t)),this._chunkEncoding=t;var n=e.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&e[0]==`
`&&n.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=n[0],n.shift()),this._lastChunkEndedWithCR=e[e.length-1]=="\r",this._lineBuffer=this._lineBuffer.concat(n),this._pushBuffer(t,1,r)};Oe.prototype._pushBuffer=function(e,t,r){for(;this._lineBuffer.length>t;){var n=this._lineBuffer.shift();if((this._keepEmptyLines||n.length>0)&&!this.push(this._reencode(n,e))){var i=this;setImmediate(function(){i._pushBuffer(e,t,r)});return}}r()};Oe.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)};Oe.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?Buffer.from(e,t).toString(this.encoding):this.encoding?e:Buffer.from(e,t)}});var jo=g((Uy,Fo)=>{function ce(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||Infinity,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}Fo.exports=ce;ce.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};ce.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};ce.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift();else return!1;var n=this,i=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r);return this._options.unref&&i.unref(),!0};ce.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};ce.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};ce.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};ce.prototype.start=ce.prototype.try;ce.prototype.errors=function(){return this._errors};ce.prototype.attempts=function(){return this._attempts};ce.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t}});var $o=g(ze=>{var Gp=jo();ze.operation=function(e){var t=ze.timeouts(e);return new Gp(t,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};ze.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort(function(s,o){return s-o}),n};ze.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout),n};ze.wrap=function(e,t,r){if(t instanceof Array&&(r=t,t=null),!r){r=[];for(var n in e)typeof e[n]=="function"&&r.push(n)}for(var i=0;i<r.length;i++){var s=r[i],o=e[s];e[s]=function(l){var u=ze.operation(t),c=Array.prototype.slice.call(arguments,1),d=c.pop();c.push(function(p){if(u.retry(p))return;p&&(arguments[0]=u.mainError()),d.apply(this,arguments)}),u.attempt(function(){l.apply(e,c)})}.bind(e,o),e[s].options=t}}});var Uo=g((zy,Bo)=>{Bo.exports=$o()});var Ho=g((Hy,Pr)=>{"use strict";const zp=Uo();class Go extends Error{constructor(e){super();e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Hp=(e,t,r)=>{const n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},zo=(e,t)=>new Promise((r,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=zp.operation(t);i.attempt(async s=>{try{r(await e(s))}catch(o){if(!(o instanceof Error)){n(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof Go)i.stop(),n(o.originalError);else if(o instanceof TypeError)i.stop(),n(o);else{Hp(o,s,t);try{await t.onFailedAttempt(o)}catch(a){n(a);return}i.retry(o)||n(i.mainError())}}})});Pr.exports=zo;Pr.exports.default=zo;Pr.exports.AbortError=Go});var Qo=g((Wy,Wo)=>{Wo.exports=Vo;Vo.sync=Wp;var Jo=require("fs");function Vp(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(r=r.split(";"),r.indexOf("")!==-1)return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Yo(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Vp(t,r)}function Vo(e,t,r){Jo.stat(e,function(n,i){r(n,n?!1:Yo(i,e,t))})}function Wp(e,t){return Yo(Jo.statSync(e),e,t)}});var ta=g((Vy,Ko)=>{Ko.exports=Xo;Xo.sync=Jp;var Zo=require("fs");function Xo(e,t,r){Zo.stat(e,function(n,i){r(n,n?!1:ea(i,t))})}function Jp(e,t){return ea(Zo.statSync(e),t)}function ea(e,t){return e.isFile()&&Yp(e,t)}function Yp(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),u=parseInt("001",8),c=a|l,d=r&u||r&l&&i===o||r&a&&n===s||r&c&&s===0;return d}});var na=g((Yy,ra)=>{var Jy=require("fs"),Lr;process.platform==="win32"||global.TESTING_WINDOWS?Lr=Qo():Lr=ta();ra.exports=Kn;Kn.sync=Qp;function Kn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Kn(e,t||{},function(s,o){s?i(s):n(o)})})}Lr(e,t||{},function(n,i){n&&((n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1)),r(n,i)})}function Qp(e,t){try{return Lr.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var ca=g((Qy,ia)=>{const ft=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",sa=require("path"),Kp=ft?";":":",oa=na(),aa=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),la=(e,t)=>{const r=t.colon||Kp,n=e.match(/\//)||ft&&e.match(/\\/)?[""]:[...ft?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=ft?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=ft?i.split(r):[""];return ft&&(e.indexOf(".")!==-1&&s[0]!==""&&s.unshift("")),{pathEnv:n,pathExt:s,pathExtExe:i}},ua=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});const{pathEnv:n,pathExt:i,pathExtExe:s}=la(e,t),o=[],a=u=>new Promise((c,d)=>{if(u===n.length)return t.all&&o.length?c(o):d(aa(e));const p=n[u],f=/^".*"$/.test(p)?p.slice(1,-1):p,h=sa.join(f,e),y=!f&&/^\.[\\\/]/.test(e)?e.slice(0,2)+h:h;c(l(y,u,0))}),l=(u,c,d)=>new Promise((p,f)=>{if(d===i.length)return p(a(c+1));const h=i[d];oa(u+h,{pathExt:s},(y,m)=>{if(!y&&m)if(t.all)o.push(u+h);else return p(u+h);return p(l(u,c,d+1))})});return r?a(0).then(u=>r(null,u),r):a(0)},Xp=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:n,pathExtExe:i}=la(e,t),s=[];for(let o=0;o<r.length;o++){const a=r[o],l=/^".*"$/.test(a)?a.slice(1,-1):a,u=sa.join(l,e),c=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let d=0;d<n.length;d++){const p=c+n[d];try{const f=oa.sync(p,{pathExt:i});if(f)if(t.all)s.push(p);else return p}catch(f){}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw aa(e)};ia.exports=ua;ua.sync=Xp});var Zn=g((Ky,Xn)=>{"use strict";const da=(e={})=>{const t=e.env||process.env,r=e.platform||process.platform;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Xn.exports=da;Xn.exports.default=da});var ma=g((Xy,pa)=>{"use strict";const fa=require("path"),Zp=ca(),ef=Zn();function ha(e,t){const r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch(a){}let o;try{o=Zp.sync(e.command,{path:r[ef({env:r})],pathExt:t?fa.delimiter:void 0})}catch(a){}finally{s&&process.chdir(n)}return o&&(o=fa.resolve(i?e.options.cwd:"",o)),o}function tf(e){return ha(e)||ha(e,!0)}pa.exports=tf});var ga=g((Zy,ei)=>{"use strict";const ti=/([()\][%!^"`<>&|;, *?])/g;function rf(e){return e=e.replace(ti,"^$1"),e}function nf(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(ti,"^$1"),t&&(e=e.replace(ti,"^$1")),e}ei.exports.command=rf;ei.exports.argument=nf});var wa=g((ew,ya)=>{"use strict";ya.exports=/^#!(.*)/});var Ma=g((tw,ba)=>{"use strict";const sf=wa();ba.exports=(e="")=>{const t=e.match(sf);if(!t)return null;const[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Ta=g((rw,va)=>{"use strict";const ri=require("fs"),of=Ma();function af(e){const t=150,r=Buffer.alloc(t);let n;try{n=ri.openSync(e,"r"),ri.readSync(n,r,0,t,0),ri.closeSync(n)}catch(i){}return of(r.toString())}va.exports=af});var xa=g((nw,Ea)=>{"use strict";const lf=require("path"),Aa=ma(),Da=ga(),uf=Ta(),cf=process.platform==="win32",df=/\.(?:com|exe)$/i,pf=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function ff(e){e.file=Aa(e);const t=e.file&&uf(e.file);return t?(e.args.unshift(e.file),e.command=t,Aa(e)):e.file}function hf(e){if(!cf)return e;const t=ff(e),r=!df.test(t);if(e.options.forceShell||r){const n=pf.test(t);e.command=lf.normalize(e.command),e.command=Da.command(e.command),e.args=e.args.map(s=>Da.argument(s,n));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function mf(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);const n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:hf(n)}Ea.exports=mf});var Oa=g((iw,Sa)=>{"use strict";const ni=process.platform==="win32";function ii(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function gf(e,t){if(!ni)return;const r=e.emit;e.emit=function(n,i){if(n==="exit"){const s=Ca(i,t,"spawn");if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function Ca(e,t){return ni&&e===1&&!t.file?ii(t.original,"spawn"):null}function yf(e,t){return ni&&e===1&&!t.file?ii(t.original,"spawnSync"):null}Sa.exports={hookChildProcess:gf,verifyENOENT:Ca,verifyENOENTSync:yf,notFoundError:ii}});var Ra=g((sw,ht)=>{"use strict";const Ia=require("child_process"),si=xa(),oi=Oa();function ka(e,t,r){const n=si(e,t,r),i=Ia.spawn(n.command,n.args,n.options);return oi.hookChildProcess(i,n),i}function wf(e,t,r){const n=si(e,t,r),i=Ia.spawnSync(n.command,n.args,n.options);return i.error=i.error||oi.verifyENOENTSync(i.status,n),i}ht.exports=ka;ht.exports.spawn=ka;ht.exports.sync=wf;ht.exports._parse=si;ht.exports._enoent=oi});var Pa=g((ow,_a)=>{"use strict";_a.exports=e=>{const t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var qa=g((aw,zt)=>{"use strict";const Ht=require("path"),La=Zn(),Na=e=>{e={cwd:process.cwd(),path:process.env[La()],execPath:process.execPath,...e};let t,r=Ht.resolve(e.cwd);const n=[];for(;t!==r;)n.push(Ht.join(r,"node_modules/.bin")),t=r,r=Ht.resolve(r,"..");const i=Ht.resolve(e.cwd,e.execPath,"..");return n.push(i),n.concat(e.path).join(Ht.delimiter)};zt.exports=Na;zt.exports.default=Na;zt.exports.env=e=>{e={env:process.env,...e};const t={...e.env},r=La({env:t});return e.path=t[r],t[r]=zt.exports(e),t}});var ja=g((lw,ai)=>{"use strict";const Fa=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};ai.exports=Fa;ai.exports.default=Fa});var Ba=g((uw,Nr)=>{"use strict";const bf=ja(),qr=new WeakMap,$a=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=!1,i=0;const s=e.displayName||e.name||"<anonymous>",o=function(...a){if(qr.set(o,++i),n){if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r}return n=!0,r=e.apply(this,a),e=null,r};return bf(o,e),qr.set(o,i),o};Nr.exports=$a;Nr.exports.default=$a;Nr.exports.callCount=e=>{if(!qr.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return qr.get(e)}});var Ua=g(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.SIGNALS=void 0;const Mf=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Fr.SIGNALS=Mf});var li=g(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.SIGRTMAX=mt.getRealtimeSignals=void 0;const Tf=function(){const e=za-Ga+1;return Array.from({length:e},vf)};mt.getRealtimeSignals=Tf;const vf=function(e,t){return{name:`SIGRT${t+1}`,number:Ga+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Ga=34,za=64;mt.SIGRTMAX=za});var Ha=g(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.getSignals=void 0;var Ef=require("os"),Af=Ua(),Df=li();const Sf=function(){const e=(0,Df.getRealtimeSignals)(),t=[...Af.SIGNALS,...e].map(xf);return t};jr.getSignals=Sf;const xf=function({name:e,number:t,description:r,action:n,forced:i=!1,standard:s}){const{signals:{[e]:o}}=Ef.constants,a=o!==void 0,l=a?o:t;return{name:e,number:l,description:r,supported:a,action:n,forced:i,standard:s}}});var Va=g(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.signalsByNumber=gt.signalsByName=void 0;var Cf=require("os"),Wa=Ha(),Of=li();const kf=function(){const e=(0,Wa.getSignals)();return e.reduce(If,{})},If=function(e,{name:t,number:r,description:n,supported:i,action:s,forced:o,standard:a}){return{...e,[t]:{name:t,number:r,description:n,supported:i,action:s,forced:o,standard:a}}},Rf=kf();gt.signalsByName=Rf;const Pf=function(){const e=(0,Wa.getSignals)(),t=Of.SIGRTMAX+1,r=Array.from({length:t},(n,i)=>_f(i,e));return Object.assign({},...r)},_f=function(e,t){const r=Lf(e,t);if(r===void 0)return{};const{name:n,description:i,supported:s,action:o,forced:a,standard:l}=r;return{[e]:{name:n,number:e,description:i,supported:s,action:o,forced:a,standard:l}}},Lf=function(e,t){const r=t.find(({name:n})=>Cf.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},Nf=Pf();gt.signalsByNumber=Nf});var Ya=g((hw,Ja)=>{"use strict";const{signalsByName:qf}=Va(),Ff=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:s,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",jf=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:s,command:o,timedOut:a,isCanceled:l,killed:u,parsed:{options:{timeout:c}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;const d=i===void 0?void 0:qf[i].description,p=n&&n.code,f=Ff({timedOut:a,timeout:c,errorCode:p,signal:i,signalDescription:d,exitCode:s,isCanceled:l}),h=`Command ${f}: ${o}`,y=Object.prototype.toString.call(n)==="[object Error]",m=y?`${h}
${n.message}`:h,w=[m,t,e].filter(Boolean).join(`
`);return y?(n.originalMessage=n.message,n.message=w):n=new Error(w),n.shortMessage=m,n.command=o,n.exitCode=s,n.signal=i,n.signalDescription=d,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(a),n.isCanceled=l,n.killed=u&&!a,n};Ja.exports=jf});var Ka=g((mw,ui)=>{"use strict";const $r=["stdin","stdout","stderr"],$f=e=>$r.some(t=>e[t]!==void 0),Qa=e=>{if(!e)return;const{stdio:t}=e;if(t===void 0)return $r.map(n=>e[n]);if($f(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${$r.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,$r.length);return Array.from({length:r},(n,i)=>t[i])};ui.exports=Qa;ui.exports.node=e=>{const t=Qa(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var Xa=g((gw,Br)=>{Br.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Br.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Br.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var tl=g((yw,Wt)=>{var Bf=require("assert"),Vt=Xa(),Uf=/^win/i.test(process.platform),Ur=require("events");typeof Ur!="function"&&(Ur=Ur.EventEmitter);var H;process.__signal_exit_emitter__?H=process.__signal_exit_emitter__:(H=process.__signal_exit_emitter__=new Ur,H.count=0,H.emitted={});H.infinite||(H.setMaxListeners(Infinity),H.infinite=!0);Wt.exports=function(e,t){Bf.equal(typeof e,"function","a callback must be provided for exit handler"),Jt===!1&&Za();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){H.removeListener(r,e),H.listeners("exit").length===0&&H.listeners("afterexit").length===0&&ci()};return H.on(r,e),n};Wt.exports.unload=ci;function ci(){if(!Jt)return;Jt=!1,Vt.forEach(function(e){try{process.removeListener(e,di[e])}catch(t){}}),process.emit=pi,process.reallyExit=el,H.count-=1}function yt(e,t,r){if(H.emitted[e])return;H.emitted[e]=!0,H.emit(e,t,r)}var di={};Vt.forEach(function(e){di[e]=function(){var r=process.listeners(e);r.length===H.count&&(ci(),yt("exit",null,e),yt("afterexit",null,e),Uf&&e==="SIGHUP"&&(e="SIGINT"),process.kill(process.pid,e))}});Wt.exports.signals=function(){return Vt};Wt.exports.load=Za;var Jt=!1;function Za(){if(Jt)return;Jt=!0,H.count+=1,Vt=Vt.filter(function(e){try{return process.on(e,di[e]),!0}catch(t){return!1}}),process.emit=zf,process.reallyExit=Gf}var el=process.reallyExit;function Gf(e){process.exitCode=e||0,yt("exit",process.exitCode,null),yt("afterexit",process.exitCode,null),el.call(process,process.exitCode)}var pi=process.emit;function zf(e,t){if(e==="exit"){t!==void 0&&(process.exitCode=t);var r=pi.apply(this,arguments);return yt("exit",process.exitCode,null),yt("afterexit",process.exitCode,null),r}else return pi.apply(this,arguments)}});var nl=g((ww,rl)=>{"use strict";const Hf=require("os"),Wf=tl(),Vf=1e3*5,Yf=(e,t="SIGTERM",r={})=>{const n=e(t);return Jf(e,t,r,n),n},Jf=(e,t,r,n)=>{if(!Qf(t,r,n))return;const i=Kf(r),s=setTimeout(()=>{e("SIGKILL")},i);s.unref&&s.unref()},Qf=(e,{forceKillAfterTimeout:t},r)=>Xf(e)&&t!==!1&&r,Xf=e=>e===Hf.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",Kf=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return Vf;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Zf=(e,t)=>{const r=e.kill();r&&(t.isCanceled=!0)},eh=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},th=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;if(!Number.isInteger(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let i;const s=new Promise((a,l)=>{i=setTimeout(()=>{eh(e,r,l)},t)}),o=n.finally(()=>{clearTimeout(i)});return Promise.race([s,o])},rh=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const i=Wf(()=>{e.kill()});return n.finally(()=>{i()})};rl.exports={spawnedKill:Yf,spawnedCancel:Zf,setupTimeout:th,setExitHandler:rh}});var sl=g((bw,il)=>{"use strict";const be=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";be.writable=e=>be(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";be.readable=e=>be(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";be.duplex=e=>be.writable(e)&&be.readable(e);be.transform=e=>be.duplex(e)&&typeof e._transform=="function"&&typeof e._transformState=="object";il.exports=be});var ll=g((Mw,ol)=>{ol.exports=al;function al(e,t){if(e&&t)return al(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var hi=g((vw,fi)=>{var ul=ll();fi.exports=ul(Gr);fi.exports.strict=ul(cl);Gr.proto=Gr(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Gr(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return cl(this)},configurable:!0})});function Gr(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function cl(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var fl=g((Tw,dl)=>{var nh=hi(),ih=function(){},sh=function(e){return e.setHeader&&typeof e.abort=="function"},oh=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},pl=function(e,t,r){if(typeof t=="function")return pl(e,null,t);t||(t={}),r=nh(r||ih);var n=e._writableState,i=e._readableState,s=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=!1,l=function(){e.writable||u()},u=function(){o=!1,s||r.call(e)},c=function(){s=!1,o||r.call(e)},d=function(m){r.call(e,m?new Error("exited with error code: "+m):null)},p=function(m){r.call(e,m)},f=function(){process.nextTick(h)},h=function(){if(a)return;if(s&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))},y=function(){e.req.on("finish",u)};return sh(e)?(e.on("complete",u),e.on("abort",f),e.req?y():e.on("request",y)):o&&!n&&(e.on("end",l),e.on("close",l)),oh(e)&&e.on("exit",d),e.on("end",c),e.on("finish",u),t.error!==!1&&e.on("error",p),e.on("close",f),function(){a=!0,e.removeListener("complete",u),e.removeListener("abort",f),e.removeListener("request",y),e.req&&e.req.removeListener("finish",u),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("exit",d),e.removeListener("end",c),e.removeListener("error",p),e.removeListener("close",f)}};dl.exports=pl});var gl=g((Ew,hl)=>{var ah=hi(),lh=fl(),mi=require("fs"),Yt=function(){},uh=/^v?\.0/.test(process.version),zr=function(e){return typeof e=="function"},ch=function(e){return uh&&mi?(e instanceof(mi.ReadStream||Yt)||e instanceof(mi.WriteStream||Yt))&&zr(e.close):!1},dh=function(e){return e.setHeader&&zr(e.abort)},ph=function(e,t,r,n){n=ah(n);var i=!1;e.on("close",function(){i=!0}),lh(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(i)return;if(s)return;if(s=!0,ch(e))return e.close(Yt);if(dh(e))return e.abort();if(zr(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}},ml=function(e){e()},fh=function(e,t){return e.pipe(t)},hh=function(){var e=Array.prototype.slice.call(arguments),t=zr(e[e.length-1]||Yt)&&e.pop()||Yt;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,s){var o=s<e.length-1,a=s>0;return ph(i,o,a,function(l){if(r||(r=l),l&&n.forEach(ml),o)return;n.forEach(ml),t(r)})});return e.reduce(fh)};hl.exports=hh});var wl=g((Aw,yl)=>{"use strict";const{PassThrough:mh}=require("stream");yl.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n=r==="buffer";let i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);const s=new mh({objectMode:i});r&&s.setEncoding(r);let o=0;const a=[];return s.on("data",l=>{a.push(l),i?o=a.length:o+=l.length}),s.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var gi=g((Dw,wt)=>{"use strict";const gh=gl(),yh=wl();class bl extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function Hr(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t;let n;return await new Promise((i,s)=>{const o=a=>{a&&(a.bufferedData=n.getBufferedValue()),s(a)};n=gh(e,yh(t),a=>{if(a){o(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new bl)})}),n.getBufferedValue()}wt.exports=Hr;wt.exports.default=Hr;wt.exports.buffer=(e,t)=>Hr(e,{...t,encoding:"buffer"});wt.exports.array=(e,t)=>Hr(e,{...t,array:!0});wt.exports.MaxBufferError=bl});var vl=g((xw,Ml)=>{"use strict";const{PassThrough:wh}=require("stream");Ml.exports=function(){var e=[],t=new wh({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(s){return Array.isArray(s)?(s.forEach(r),this):(e.push(s),s.once("end",i.bind(null,s)),s.once("error",t.emit.bind(t,"error")),s.pipe(t,{end:!1}),this)}function n(){return e.length==0}function i(s){e=e.filter(function(o){return o!==s}),!e.length&&t.readable&&t.end()}}});var Dl=g((Sw,Tl)=>{"use strict";const El=sl(),Al=gi(),bh=vl(),Mh=(e,t)=>{if(t===void 0||e.stdin===void 0)return;El(t)?t.pipe(e.stdin):e.stdin.end(t)},vh=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=bh();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},yi=async(e,t)=>{if(!e)return;e.destroy();try{return await t}catch(r){return r.bufferedData}},wi=(e,{encoding:t,buffer:r,maxBuffer:n})=>!e||!r?void 0:t?Al(e,{encoding:t,maxBuffer:n}):Al.buffer(e,{maxBuffer:n}),Th=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:s},o)=>{const a=wi(e,{encoding:n,buffer:i,maxBuffer:s}),l=wi(t,{encoding:n,buffer:i,maxBuffer:s}),u=wi(r,{encoding:n,buffer:i,maxBuffer:s*2});try{return await Promise.all([o,a,l,u])}catch(c){return Promise.all([{error:c,signal:c.signal,timedOut:c.timedOut},yi(e,a),yi(t,l),yi(r,u)])}},Eh=({input:e})=>{if(El(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Tl.exports={handleInput:Mh,makeAllStream:vh,getSpawnedResult:Th,validateInputSync:Eh}});var Sl=g((Cw,xl)=>{"use strict";const Ah=(async()=>{})().constructor.prototype,Dh=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Ah,e)]),xh=(e,t)=>{for(const[r,n]of Dh){const i=typeof t=="function"?(...s)=>Reflect.apply(n.value,t(),s):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}return e},Sh=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});xl.exports={mergePromise:xh,getSpawnedPromise:Sh}});var Ol=g((Ow,Cl)=>{"use strict";const Ch=/ +/g,Oh=(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,Ih=(e,t,r)=>{if(r===0)return[t];const n=e[e.length-1];return n.endsWith("\\")?[...e.slice(0,-1),`${n.slice(0,-1)} ${t}`]:[...e,t]},kh=e=>e.trim().split(Ch).reduce(Ih,[]);Cl.exports={joinCommand:Oh,parseCommand:kh}});var Nl=g((Iw,bt)=>{"use strict";const Rh=require("path"),bi=require("child_process"),Il=Ra(),_h=Pa(),Ph=qa(),Lh=Ba(),Wr=Ya(),kl=Ka(),{spawnedKill:Nh,spawnedCancel:qh,setupTimeout:Fh,setExitHandler:jh}=nl(),{handleInput:$h,getSpawnedResult:Bh,makeAllStream:Uh,validateInputSync:Gh}=Dl(),{mergePromise:Rl,getSpawnedPromise:zh}=Sl(),{joinCommand:_l,parseCommand:Pl}=Ol(),Hh=1e3*1e3*100,Wh=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{const s=t?{...process.env,...e}:e;return r?Ph.env({env:s,cwd:n,execPath:i}):s},Ll=(e,t,r={})=>{const n=Il._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:Hh,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=Wh(r),r.stdio=kl(r),process.platform==="win32"&&Rh.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},Qt=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?_h(t):t,Vr=(e,t,r)=>{const n=Ll(e,t,r),i=_l(e,t);let s;try{s=bi.spawn(n.file,n.args,n.options)}catch(p){const f=new bi.ChildProcess,h=Promise.reject(Wr({error:p,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Rl(f,h)}const o=zh(s),a=Fh(s,n.options,o),l=jh(s,n.options,a),u={isCanceled:!1};s.kill=Nh.bind(null,s.kill.bind(s)),s.cancel=qh.bind(null,s,u);const c=async()=>{const[{error:p,exitCode:f,signal:h,timedOut:y},m,w,M]=await Bh(s,n.options,l),b=Qt(n.options,m),v=Qt(n.options,w),A=Qt(n.options,M);if(p||f!==0||h!==null){const P=Wr({error:p,exitCode:f,signal:h,stdout:b,stderr:v,all:A,command:i,parsed:n,timedOut:y,isCanceled:u.isCanceled,killed:s.killed});if(!n.options.reject)return P;throw P}return{command:i,exitCode:0,stdout:b,stderr:v,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},d=Lh(c);return Il._enoent.hookChildProcess(s,n.parsed),$h(s,n.options.input),s.all=Uh(s,n.options),Rl(s,d)};bt.exports=Vr;bt.exports.sync=(e,t,r)=>{const n=Ll(e,t,r),i=_l(e,t);Gh(n.options);let s;try{s=bi.spawnSync(n.file,n.args,n.options)}catch(l){throw Wr({error:l,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}const o=Qt(n.options,s.stdout,s.error),a=Qt(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){const l=Wr({stdout:o,stderr:a,error:s.error,signal:s.signal,exitCode:s.status,command:i,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return l;throw l}return{command:i,exitCode:0,stdout:o,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};bt.exports.command=(e,t)=>{const[r,...n]=Pl(e);return Vr(r,n,t)};bt.exports.commandSync=(e,t)=>{const[r,...n]=Pl(e);return Vr.sync(r,n,t)};bt.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);const n=kl.node(r),{nodePath:i=process.execPath,nodeOptions:s=process.execArgv}=r;return Vr(i,[...s,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var ql=g(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.omit=void 0;function Vh(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}Jr.omit=Vh});var Kt=g((Rw,Fl)=>{Fl.exports={kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kResume:Symbol("resume"),kPause:Symbol("pause"),kSocketTimeout:Symbol("socket timeout"),kIdleTimeout:Symbol("idle timeout"),kMaxKeepAliveTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeouthreshold"),kRequestTimeout:Symbol("request timeout"),kKeepAliveTimeout:Symbol("keep alive timeout"),kServerName:Symbol("server name"),kTLSOpts:Symbol("TLS Options"),kClosed:Symbol("closed"),kDrained:Symbol("drained"),kReset:Symbol("reset"),kDestroyed:Symbol("destroyed"),kMaxHeadersSize:Symbol("maxHeaderSize"),kHeadersTimeout:Symbol("maxHeaderSize"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelinig"),kRetryDelay:Symbol("retry delay"),kSocketPath:Symbol("socket path"),kSocket:Symbol("socket"),kClients:Symbol("clients"),kRetryTimeout:Symbol("retry timeout"),kMaxAbortedPayload:Symbol("max aborted payload")}});var Ie=g((_w,jl)=>{"use strict";const Jh=require("assert"),{kDestroyed:$l}=Kt(),{IncomingMessage:Yh}=require("http");function Qh(){}function Bl(e){return!!(e&&typeof e.on=="function")}function Kh(e){if(e&&typeof e.on=="function"){const t=e._readableState;return t&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}return Jh(!e||Number.isFinite(e.byteLength)),e?e.length:0}function Ul(e){return!e||!!(e.destroyed||e[$l])}function Xh(e,t){if(!Bl(e)||Ul(e))return;typeof e.destroy=="function"?(t||Object.getPrototypeOf(e).constructor!==Yh)&&e.destroy(t):t&&process.nextTick((r,n)=>{r.emit("error",n)},e,t),e.destroyed!==!0&&(e[$l]=!0)}function Zh(e,t){if(!e)return null;let r;for(let i=0;i<t.length;i+=2){const s=t[i+0];if(s.length===10&&s.toLowerCase()==="keep-alive"){r=t[i+1];break}}const n=r&&r.match(/timeout=(\d+)/);return n?Number(n[1])*1e3:null}function em(e){const t={};for(var r=0;r<e.length;r+=2){var n=e[r].toLowerCase(),i=t[n];i?(Array.isArray(i)||(i=[i],t[n]=i),i.push(e[r+1])):t[n]=e[r+1]}return t}function tm(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}jl.exports={nop:Qh,isStream:Bl,isDestroyed:Ul,parseHeaders:em,parseKeepAliveTimeout:Zh,destroy:Xh,bodyLength:Kh,isBuffer:tm}});var Me=g((Pw,Gl)=>{"use strict";class ne extends Error{constructor(e){super(e);this.name="UndiciError",this.code="UND_ERR"}}class zl extends ne{constructor(e){super(e);Error.captureStackTrace(this,zl),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class Hl extends ne{constructor(e){super(e);Error.captureStackTrace(this,Hl),this.name="SocketTimeoutError",this.message=e||"Socket Timeout Error",this.code="UND_ERR_SOCKET_TIMEOUT"}}class Wl extends ne{constructor(e){super(e);Error.captureStackTrace(this,Wl),this.name="RequestTimeoutError",this.message=e||"Request Timeout Error",this.code="UND_ERR_REQUEST_TIMEOUT"}}class Vl extends ne{constructor(e){super(e);Error.captureStackTrace(this,Vl),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class Jl extends ne{constructor(e){super(e);Error.captureStackTrace(this,Jl),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class Yl extends ne{constructor(e){super(e);Error.captureStackTrace(this,Yl),this.name="RequestAbortedError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}}class Ql extends ne{constructor(e){super(e);Error.captureStackTrace(this,Ql),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}}class Mi extends ne{constructor(e){super(e);Error.captureStackTrace(this,Mi),this.name="ContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_CONTENT_LENGTH_MISMATCH"}}class Kl extends ne{constructor(e){super(e);Error.captureStackTrace(this,Kl),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class Xl extends ne{constructor(e){super(e);Error.captureStackTrace(this,Xl),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}}class Zl extends ne{constructor(e){super(e);Error.captureStackTrace(this,Zl),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET"}}class eu extends ne{constructor(e){super(e);Error.captureStackTrace(this,eu),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}Gl.exports={UndiciError:ne,SocketTimeoutError:Hl,HeadersTimeoutError:zl,RequestTimeoutError:Wl,ContentLengthMismatchError:Mi,ContentLengthMismatch:Mi,InvalidArgumentError:Vl,InvalidReturnValueError:Jl,RequestAbortedError:Yl,ClientDestroyedError:Kl,ClientClosedError:Xl,InformationalError:Ql,SocketError:Zl,NotSupportedError:eu}});var nu=g((Lw,tu)=>{"use strict";const{InvalidArgumentError:de,RequestAbortedError:ru,RequestTimeoutError:rm,NotSupportedError:nm}=Me(),im=require("net"),He=Ie(),{kRequestTimeout:sm,kUrl:om}=Kt(),Mt=Symbol("abort"),Xt=Symbol("timeout"),Yr=Symbol("resume"),Qr=Symbol("signal"),vt=Symbol("handler");class am{constructor({path:e,method:t,body:r,headers:n,idempotent:i,upgrade:s,signal:o,requestTimeout:a},{[sm]:l,[om]:{hostname:u,protocol:c}},d){if(typeof e!="string"||e[0]!=="/")throw new de("path must be a valid path");if(typeof t!="string")throw new de("method must be a string");if(s&&typeof s!="string")throw new de("upgrade must be a string");if(o&&typeof o.on!="function"&&typeof o.addEventListener!="function")throw new de("signal must be an EventEmitter or EventTarget");if(a=a==null&&l?l:a,a!=null&&(!Number.isInteger(a)||a<0))throw new de("requestTimeout must be a positive integer or zero");if(this[vt]=d,this.method=t,r==null)this.body=null;else if(He.isStream(r))this.body=r;else if(He.isBuffer(r))this.body=r.length?r:null;else if(typeof r=="string")this.body=r.length?Buffer.from(r):null;else throw new de("body must be a string, a Buffer or a Readable stream");const p=n&&(n.host||n.Host);p&&c==="https:"&&!/^\[/.test(p)&&!im.isIP(p)?this.servername=p:this.servername=null,this.aborted=!1,this.upgrade=!!s,this.idempotent=i==null?t==="HEAD"||t==="GET":i,this.contentLength=null;{let f=`${t} ${e} HTTP/1.1\r
`;if(s?f+=`connection: upgrade\r
upgrade: ${s}\r
`:f+=`connection: keep-alive\r
`,p||(f+=`host: ${u}\r
`),n)for(const[h,y]of Object.entries(n)){if(typeof y=="object")throw new de(`invalid ${h} header`);if(y===void 0)continue;if(this.contentLength===null&&h.length===14&&h.toLowerCase()==="content-length"){if(this.contentLength=parseInt(y),!Number.isFinite(this.contentLength))throw new de("invalid content-length header")}else{if(h.length===17&&h.toLowerCase()==="transfer-encoding")throw new de("invalid transfer-encoding header");if(h.length===10&&h.toLowerCase()==="connection")throw new de("invalid connection header");if(h.length===10&&h.toLowerCase()==="keep-alive")throw new de("invalid keep-alive header");if(h.length===7&&h.toLowerCase()==="upgrade")throw new de("invalid upgrade header");if(h.length===6&&h.toLowerCase()==="expect")throw new nm("expect header not supported");f+=`${h}: ${y}\r
`}}this.header=f}He.isStream(this.body)&&this.body.on("error",f=>{this.onError(f)}),o?(this[Qr]=o,this[Mt]=()=>{this.onError(new ru)},"addEventListener"in o?o.addEventListener("abort",this[Mt]):o.addListener("abort",this[Mt])):(this[Qr]=null,this[Mt]=null),this[Xt]=a?setTimeout(f=>{f.onError(new rm)},a,this):null,this[Yr]=null}get expectsPayload(){const{method:e}=this;return e==="PUT"||e==="POST"||e==="PATCH"}get reset(){const{method:e,upgrade:t,body:r}=this;return e==="HEAD"||(e==="CONNECT"||t)?!0:!!(r&&!this.expectsPayload&&He.bodyLength(r)!==0)}onUpgrade(e,t,r){if(this.aborted){He.destroy(r,new ru);return}vi.call(this);try{this[vt].onUpgrade(e,t,r)}catch(n){this.onError(n),He.destroy(r,n)}}onHeaders(e,t,r){if(this.aborted)return;this[Yr]=r;const{[Xt]:n}=this;n&&(this[Xt]=null,clearTimeout(n));try{this[vt].onHeaders(e,t||[],r)}catch(i){this.onError(i)}}onBody(e,t,r){if(this.aborted)return;try{return this[vt].onData(e.slice(t,t+r))}catch(n){this.onError(n)}}onComplete(e){if(this.aborted)return;vi.call(this);try{this[vt].onComplete(e||[])}catch(t){this.onError(t)}}onError(e){if(this.aborted)return;this.aborted=!0,vi.call(this,e);const{[Yr]:t}=this;t&&(this[Yr]=null,t()),process.nextTick((r,n)=>{r.onError(n)},this[vt],e)}}function vi(e){const{body:t,[Xt]:r,[Qr]:n}=this;r&&(this[Xt]=null,clearTimeout(r)),t&&(this.body=null,He.destroy(t,e)),n&&(this[Qr]=null,"removeEventListener"in n?n.removeEventListener("abort",this[Mt]):n.removeListener("abort",this[Mt]))}tu.exports=am});var au=g((Nw,iu)=>{"use strict";const{finished:lm}=require("stream"),{InvalidArgumentError:Kr,InvalidReturnValueError:um}=Me(),Tt=Ie(),{AsyncResource:cm}=require("async_hooks");class su extends cm{constructor(e,t,r){if(!e||typeof e!="object")throw new Kr("invalid opts");if(typeof t!="function")throw new Kr("invalid factory");if(e.method==="CONNECT")throw new Kr("invalid method");super("UNDICI_STREAM");this.opaque=e.opaque||null,this.factory=t,this.callback=r,this.res=null,this.trailers=null}onHeaders(e,t,r){const{factory:n,opaque:i}=this;if(e<200)return;this.factory=null;const s=this.runInAsyncScope(n,null,{statusCode:e,headers:Tt.parseHeaders(t),opaque:i});if(!s||typeof s.write!="function"||typeof s.end!="function"||typeof s.on!="function")throw new um("expected Writable");s.on("drain",r),lm(s,{readable:!1},o=>{const{callback:a,res:l,opaque:u,trailers:c}=this;this.res=null,(o||!l.readable)&&Tt.destroy(l,o),this.callback=null,this.runInAsyncScope(a,null,o||null,{opaque:u,trailers:c})}),this.res=s}onData(e){const{res:t}=this;return Tt.isDestroyed(t)?void 0:t.write(e)}onComplete(e){const{res:t}=this;if(Tt.isDestroyed(t))return;this.trailers=Tt.parseHeaders(e),t.end()}onError(e){const{res:t,callback:r,opaque:n}=this;this.factory=null,t?(this.res=null,Tt.destroy(t,e)):r&&(this.callback=null,this.runInAsyncScope(r,null,e,{opaque:n}))}}function ou(e,t,r,n){if(n===void 0)return new Promise((i,s)=>{ou(e,t,r,(o,a)=>o?s(o):i(a))});if(typeof n!="function")throw new Kr("invalid callback");try{e.dispatch(t,new su(t,r,n))}catch(i){process.nextTick(n,i,null)}}iu.exports={stream:ou,StreamHandler:su}});var pu=g((qw,lu)=>{"use strict";const{Readable:dm}=require("stream"),{InvalidArgumentError:Ti,RequestAbortedError:pm}=Me(),uu=Ie(),{AsyncResource:fm}=require("async_hooks");class hm extends dm{constructor(e){super({autoDestroy:!0,read:e})}_destroy(e,t){this._read(),!e&&!this._readableState.endEmitted&&(e=new pm),t(e)}}class cu extends fm{constructor(e,t){if(!e||typeof e!="object")throw new Ti("invalid opts");if(e.method==="CONNECT")throw new Ti("invalid method");super("UNDICI_REQUEST");this.opaque=e.opaque||null,this.callback=t,this.res=null}onHeaders(e,t,r){const{callback:n,opaque:i}=this;if(e<200)return;const s=new hm(r);this.callback=null,this.res=s,this.runInAsyncScope(n,null,null,{statusCode:e,headers:uu.parseHeaders(t),opaque:i,body:s})}onData(e){const{res:t}=this;return t._readableState.destroyed?void 0:t.push(e)}onComplete(e){const{res:t}=this;if(t._readableState.destroyed)return;t.push(null)}onError(e){const{res:t,callback:r,opaque:n}=this;r&&(this.callback=null,this.runInAsyncScope(r,null,e,{opaque:n})),t&&(this.res=null,uu.destroy(t,e))}}function du(e,t,r){if(r===void 0)return new Promise((n,i)=>{du(e,t,(s,o)=>s?i(s):n(o))});if(typeof r!="function")throw new Ti("invalid callback");try{e.dispatch(t,new cu(t,r))}catch(n){process.nextTick(r,n,null)}}lu.exports={request:du,RequestHandler:cu}});var Di=g((Fw,fu)=>{"use strict";const{Readable:hu,Duplex:mm,PassThrough:gm}=require("stream"),{InvalidArgumentError:Ei,InvalidReturnValueError:ym,RequestAbortedError:Ai}=Me(),ke=Ie(),{AsyncResource:wm}=require("async_hooks"),Xr=Symbol("resume");class bm extends hu{constructor(){super({autoDestroy:!0});this[Xr]=null}_read(){const{[Xr]:e}=this;e&&(this[Xr]=null,e())}_destroy(e,t){this._read(),!e&&!this._readableState.endEmitted,t(e)}}class Mm extends hu{constructor(e){super({autoDestroy:!0,read:e})}_destroy(e,t){this._read(),!e&&!this._readableState.endEmitted&&(e=new Ai),t(e)}}class mu extends wm{constructor(e,t){if(!e||typeof e!="object")throw new Ei("invalid opts");if(typeof t!="function")throw new Ei("invalid handler");if(e.method==="CONNECT")throw new Ei("invalid method");super("UNDICI_PIPELINE");this.opaque=e.opaque||null,this.handler=t,this.req=new bm,this.ret=new mm({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{const{body:r}=this;r&&r.resume&&r.resume()},write:(r,n,i)=>{const{req:s}=this;s.push(r,n)||s._readableState.destroyed?i():s[Xr]=i},destroy:(r,n)=>{const{body:i,req:s,res:o,ret:a}=this;!r&&!a._readableState.endEmitted&&(r=new Ai),ke.destroy(i,r),ke.destroy(s,r),ke.destroy(o,r),n(r)}}).on("prefinish",()=>{const{req:r}=this;r.push(null)}),this.res=null}onHeaders(e,t,r){const{opaque:n,handler:i}=this;if(e<200)return;this.res=new Mm(r);let s;try{this.handler=null,s=this.runInAsyncScope(i,null,{statusCode:e,headers:ke.parseHeaders(t),opaque:n,body:this.res})}catch(o){throw this.res.on("error",ke.nop),o}if(!s||typeof s.on!="function")throw new ym("expected Readable");s.on("data",o=>{const{ret:a,body:l}=this;!a.push(o)&&l.pause&&l.pause()}).on("error",o=>{const{ret:a}=this;ke.destroy(a,o)}).on("end",()=>{const{ret:o}=this;o.push(null)}).on("close",()=>{const{ret:o}=this;o._readableState.ended||ke.destroy(o,new Ai)}),this.body=s}onData(e){const{res:t}=this;return t._readableState.destroyed?void 0:t.push(e)}onComplete(e){const{res:t}=this;if(t._readableState.destroyed)return;t.push(null)}onError(e){const{ret:t}=this;this.handler=null,ke.destroy(t,e)}}function vm(e,t,r){try{const n=new mu(t,r),{path:i,method:s,headers:o,idempotent:a,servername:l,signal:u,requestTimeout:c}=t;return e.dispatch({path:i,method:s,body:n.req,headers:o,idempotent:a,servername:l,signal:u,requestTimeout:c},n),n.ret}catch(n){return new gm().destroy(n)}}fu.exports={pipeline:vm,PipelineHandler:mu}});var Mu=g((jw,gu)=>{"use strict";const{InvalidArgumentError:yu}=Me(),{AsyncResource:Tm}=require("async_hooks"),Em=Ie();class wu extends Tm{constructor(e,t){if(!e||typeof e!="object")throw new yu("invalid opts");super("UNDICI_UPGRADE");this.opaque=e.opaque||null,this.callback=t}onUpgrade(e,t,r){const{callback:n,opaque:i}=this;this.callback=null,this.runInAsyncScope(n,null,null,{headers:Em.parseHeaders(t),socket:r,opaque:i})}onError(e){const{callback:t,opaque:r}=this;t&&(this.callback=null,t(e,{opaque:r}))}}function bu(e,t,r){if(r===void 0)return new Promise((n,i)=>{bu(e,t,(s,o)=>s?i(s):n(o))});if(typeof r!="function")throw new yu("invalid callback");try{const n=new wu(t,r),{path:i,method:s,headers:o,servername:a,signal:l,requestTimeout:u,protocol:c}=t;e.dispatch({path:i,method:s||"GET",headers:o,servername:a,signal:l,requestTimeout:u,upgrade:c||"Websocket"},n)}catch(n){process.nextTick(r,n,null)}}gu.exports={upgrade:bu,UpgradeHandler:wu}});var Du=g(($w,vu)=>{"use strict";const{InvalidArgumentError:Tu}=Me(),{AsyncResource:Am}=require("async_hooks"),Dm=Ie();class Eu extends Am{constructor(e,t){if(!e||typeof e!="object")throw new Tu("invalid opts");super("UNDICI_CONNECT");this.opaque=e.opaque||null,this.callback=t}onUpgrade(e,t,r){const{callback:n,opaque:i}=this;this.callback=null,this.runInAsyncScope(n,null,null,{statusCode:e,headers:Dm.parseHeaders(t),socket:r,opaque:i})}onError(e){const{callback:t,opaque:r}=this;t&&(this.callback=null,t(e,{opaque:r}))}}function Au(e,t,r){if(r===void 0)return new Promise((n,i)=>{Au(e,t,(s,o)=>s?i(s):n(o))});if(typeof r!="function")throw new Tu("invalid callback");try{const n=new Eu(t,r),{path:i,headers:s,servername:o,signal:a,requestTimeout:l}=t;e.dispatch({path:i,method:"CONNECT",headers:s,servername:o,signal:a,requestTimeout:l},n)}catch(n){process.nextTick(r,n,null)}}vu.exports={connect:Au,ConnectHandler:Eu}});var Ri=g((Bw,xu)=>{"use strict";const{URL:xm}=require("url"),Su=require("net"),Cu=require("tls"),{HTTPParser:Te}=process.binding("http_parser"),Sm=require("events"),I=require("assert"),R=Ie(),Cm=nu(),{ContentLengthMismatchError:xi,SocketTimeoutError:Om,InvalidArgumentError:Y,RequestAbortedError:Im,ClientDestroyedError:Si,ClientClosedError:km,HeadersTimeoutError:Rm,SocketError:Zr,InformationalError:Et}=Me(),{kUrl:Ou,kReset:Re,kPause:Iu,kResume:Ci,kClient:Zt,kParser:Oi,kConnect:_m,kResuming:We,kWriting:_e,kQueue:L,kDrained:en,kServerName:Ve,kIdleTimeout:tn,kSocketTimeout:Ii,kRequestTimeout:Pm,kTLSOpts:rn,kClosed:At,kDestroyed:Je,kPendingIdx:Z,kRunningIdx:U,kError:nn,kOnDestroyed:Ye,kPipelining:Dt,kRetryDelay:Qe,kRetryTimeout:Pe,kMaxAbortedPayload:ku,kSocket:$,kSocketPath:er,kKeepAliveTimeout:sn,kMaxHeadersSize:Ru,kHeadersTimeout:_u,kMaxKeepAliveTimeout:Pu,kKeepAliveTimeoutThreshold:Lu}=Kt(),Lm=au().stream,Nm=pu().request,qm=Di().pipeline,Fm=Mu().upgrade,jm=Du().connect,$m=Buffer.from(`\r
`,"ascii"),Nu=parseInt(process.version.split(".")[0].slice(1)),Bm=process.execArgv.includes("--insecure-http-parser");class Um extends Sm{constructor(e,{maxAbortedPayload:t,maxHeaderSize:r,headersTimeout:n,socketTimeout:i,idleTimeout:s,maxKeepAliveTimeout:o,keepAliveTimeoutThreshold:a,socketPath:l,requestTimeout:u,pipelining:c,tls:d}={}){super();if(typeof e=="string"&&(e=new xm(e)),!e||typeof e!="object")throw new Y("invalid url");if(e.port!=null&&e.port!==""&&!Number.isFinite(parseInt(e.port)))throw new Y("invalid port");if(l!=null&&typeof l!="string")throw new Y("invalid socketPath");if(e.hostname!=null&&typeof e.hostname!="string")throw new Y("invalid hostname");if(!/https?/.test(e.protocol))throw new Y("invalid protocol");if(/\/.+/.test(e.pathname)||e.search||e.hash)throw new Y("invalid url");if(t!=null&&!Number.isFinite(t))throw new Y("invalid maxAbortedPayload");if(r!=null&&!Number.isFinite(r))throw new Y("invalid maxHeaderSize");if(i!=null&&!Number.isFinite(i))throw new Y("invalid socketTimeout");if(s!=null&&(!Number.isFinite(s)||s<=0))throw new Y("invalid idleTimeout");if(o!=null&&(!Number.isFinite(o)||o<=0))throw new Y("invalid maxKeepAliveTimeout");if(a!=null&&!Number.isFinite(a))throw new Y("invalid keepAliveTimeoutThreshold");if(u!=null&&!Number.isFinite(u))throw new Y("invalid requestTimeout");if(n!=null&&!Number.isFinite(n))throw new Y("invalid headersTimeout");this[$]=null,this[Re]=!1,this[Dt]=c||1,this[Ru]=r||16384,this[_u]=n==null?3e4:n,this[Ou]=e,this[er]=l,this[Ii]=i==null?3e4:i,this[Pu]=o==null?6e5:o,this[tn]=s==null?4e3:s,this[Lu]=a==null?1e3:a,this[sn]=this[tn],this[Pm]=u==null?3e4:u,this[At]=!1,this[Je]=!1,this[Ve]=null,this[rn]=d,this[Qe]=0,this[Pe]=null,this[Ye]=[],this[_e]=!1,this[We]=0,this[en]=!1,this[ku]=t||1048576,this[L]=[],this[U]=0,this[Z]=0}get pipelining(){return this[Dt]}set pipelining(e){this[Dt]=e,Ee(this)}get connected(){return this[$]&&this[$].connecting!==!0&&(this[$].authorized!==!1||this[$].authorizationError)&&!this[$].destroyed}get pending(){return this[L].length-this[Z]}get running(){return this[Z]-this[U]}get size(){return this[L].length-this[U]}get busy(){if(this.running>=this[Dt])return!0;if(this.size>=this[Dt])return!0;if(this.size&&!this.connected)return!0;if(this[Re]||this[_e])return!0;if(this[We])for(let e=this[Z];e<this[L].length;e++){const{idempotent:t,body:r,reset:n,aborted:i}=this[L][e];if(i)continue;if(!t||n)return!0;if(R.isStream(r)&&R.bodyLength(r)!==0)return!0}else if(this.pending>0)return!0;return!1}get destroyed(){return this[Je]}get closed(){return this[At]}[_m](e){ki(this),this.once("connect",e)}dispatch(e,t){const r=new Cm(e,this,t);try{if(this[Je])throw new Si;if(this[At])throw new km;this[L].push(r),this[We]||(R.isStream(r.body)?(this[We]=1,process.nextTick(Ee,this)):Ee(this))}catch(n){r.onError(n)}}close(e){if(e===void 0)return new Promise((t,r)=>{this.close((n,i)=>n?r(n):t(i))});if(typeof e!="function")throw new Y("invalid callback");if(this[Je]){process.nextTick(e,new Si,null);return}this[At]=!0,this.size?this[Ye].push(e):this.destroy(e)}destroy(e,t){if(typeof e=="function"&&(t=e,e=null),t===void 0)return new Promise((n,i)=>{this.destroy(e,(s,o)=>s?i(s):n(o))});if(typeof t!="function")throw new Y("invalid callback");if(this[Je]){this[Ye]?this[Ye].push(t):process.nextTick(t,null,null);return}clearTimeout(this[Pe]),this[Pe]=null,this[At]=!0,this[Je]=!0,this[Ye].push(t);const r=()=>{const n=this[Ye];this[Ye]=null;for(const i of n)i(null,null)};this[$]?R.destroy(this[$].on("close",r),e):process.nextTick(r),Ee(this)}request(e,t){return Nm(this,e,t)}stream(e,t,r){return Lm(this,e,t,r)}pipeline(e,t){return qm(this,e,t)}upgrade(e,t){return Fm(this,e,t)}connect(e,t){return jm(this,e,t)}}class zm extends Te{constructor(e,t){if(Nu>=12){super();this.initialize(Te.RESPONSE,{},e[Ru],Bm,e[_u])}else super(Te.RESPONSE,!1);this.client=e,this.socket=t,this.statusCode=null,this.upgrade=!1,this.headers=null,this.shouldKeepAlive=!1,this.read=0}[Te.kOnTimeout](){this.statusCode?this.socket._unrefTimer():R.destroy(this.socket,new Rm)}[Te.kOnHeaders](e){this.headers?Array.prototype.push.apply(this.headers,e):this.headers=e}[Te.kOnExecute](e){const{upgrade:t,socket:r}=this;if(!Number.isFinite(e)){I(e instanceof Error),R.destroy(r,e);return}if(r._unrefTimer(),t&&!r.destroyed){const{client:n,headers:i,statusCode:s}=this,o=n[L][n[U]];I(!r.destroyed),I(r===n[$]),I(!r.isPaused()),I(o.upgrade||o.method==="CONNECT"),this.read=0,this.headers=null,this.statusCode=null,r._readableState.flowing=null,r.unshift(this.getCurrentBuffer().slice(e)),o.onUpgrade(s,i,r),r.destroyed||(Gm(r),n[$]=null,n[L][n[U]++]=null,n.emit("disconnect",new Et("upgrade")),this.unconsume(),setImmediate(()=>this.close()),Ee(n))}}[Te.kOnHeadersComplete](e,t,r,n,i,s,o,a,l){const{client:u,socket:c}=this,d=u[L][u[U]];if(c.destroyed)return;if(I(!this.upgrade),I(this.statusCode<200),s===100)return R.destroy(c,new Zr("bad response")),1;if(a!==d.upgrade)return R.destroy(c,new Zr("bad upgrade")),1;if(this.headers?Array.prototype.push.apply(this.headers,r):this.headers=r,this.statusCode=s,this.shouldKeepAlive=l,a||d.method==="CONNECT")return this.upgrade=!0,2;l||(u[Re]=!0);const{headers:p}=this;this.headers=null;let f=R.parseKeepAliveTimeout(l,p);return Number.isFinite(f)?(f=Math.min(f-u[Lu],u[Pu]),!f||f<1e3?u[Re]=!0:u[sn]=f):u[sn]=u[tn],d.onHeaders(s,p,s<200?null:c[Ci]),d.method==="HEAD"||s<200?1:0}[Te.kOnBody](e,t,r){const{client:n,socket:i,statusCode:s}=this;if(i.destroyed)return;I(s>=200);const o=n[L][n[U]];this.read+=r;const a=o.onBody(e,t,r);a==null?this.read>n[ku]&&(n[L][n[U]++]=null,R.destroy(i,new Et("max aborted payload"))):a===!1&&i.pause()}[Te.kOnMessageComplete](){const{client:e,socket:t,statusCode:r,headers:n,upgrade:i}=this,s=e[L][e[U]];if(t.destroyed)return;if(I(r>=100),i){I(r<300||s.method==="CONNECT");return}if(this.read=0,this.statusCode=null,this.headers=null,r<200){I(!t.isPaused());return}s.onComplete(n),e[L][e[U]++]=null,e[_e]?R.destroy(t,new Et("reset")):e[Re]?e.running||R.destroy(t,new Et("reset")):this.shouldKeepAlive?(t.resume(),Ee(e)):R.destroy(t,new Et("reset"))}}function Hm(){const{[Zt]:e}=this;I(!this.destroyed),I(!e[_e]),I(!e[Pe]),e[Re]=!1,e[Qe]=0,e.emit("connect"),Ee(e)}function qu(){R.destroy(this,new Om)}function Fu(e){const{[Zt]:t,[Ve]:r}=this;if(this[nn]=e,e.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(I(!t.running);t.pending&&t[L][t[Z]].servername===r;)t[L][t[Z]++].onError(e);else if(!t.running&&e.code!=="ECONNRESET"&&e.code!=="ECONNREFUSED"&&e.code!=="EHOSTUNREACH"&&e.code!=="EHOSTDOWN"&&e.code!=="UND_ERR_SOCKET"&&e.code!=="UND_ERR_INFO"){I(t[Z]===t[U]);for(const n of t[L].splice(t[U]))n.onError(e)}}function ju(){R.destroy(this,new Zr("other side closed"))}function $u(){const{[Zt]:e,[Oi]:t}=this,r=this[nn]||new Zr("closed");if(e[$]=null,t.unconsume(),setImmediate(()=>t.close()),e.running>0){r.code!=="UND_ERR_INFO"&&e[L][e[U]++].onError(r);const n=[];for(const i of e[L].slice(e[U],e[Z])){const{idempotent:s,body:o,aborted:a}=i;I(s&&!R.isStream(o)),a||n.push(i)}e[L].splice(0,e[Z],...n),e[Z]=0,e[U]=0}e.destroyed||e.emit("disconnect",r),Ee(e)}function Gm(e){e[Iu]=null,e[Ci]=null,e[Zt]=null,e[Oi]=null,e[nn]=null,e[Ve]=null,e.removeListener("timeout",qu).removeListener("error",Fu).removeListener("end",ju).removeListener("close",$u)}function ki(e){I(!e[$]),I(!e[Pe]);const{protocol:t,port:r,hostname:n}=e[Ou];let i=null,s;if(t==="https:"){i=e[Ve]||e[rn]&&e[rn].servername;const a={...e[rn],servername:i};s=e[er]?Cu.connect(e[er],a):Cu.connect(r||443,n,a)}else s=e[er]?Su.connect(e[er]):Su.connect(r||80,n);e[$]=s;const o=new zm(e,s);Nu>=12?(I(s._handle),o.consume(s._handle)):(I(s._handle&&s._handle._externalStream),o.consume(s._handle._externalStream)),s[Iu]=s.pause.bind(s),s[Ci]=s.resume.bind(s),s[nn]=null,s[Oi]=o,s[Zt]=e,s[Ve]=i,s.setNoDelay(!0).setTimeout(e[tn]).on(t==="https:"?"secureConnect":"connect",Hm).on("timeout",qu).on("error",Fu).on("end",ju).on("close",$u)}function Ee(e){if(e[We]===2)return;e[We]=2,Wm(e),e[We]=0,e[U]>256&&(e[L].splice(0,e[U]),e[Z]-=e[U],e[U]=0)}function Wm(e){for(;;){if(e[Je]){const r=new Si;for(const n of e[L].splice(e[Z]))n.onError(r);return}if(e[At]&&!e.size){e.destroy(R.nop);continue}if(e[$]){const r=e.running?e[Ii]:e[sn];e[$].timeout!==r&&e[$].setTimeout(r)}if(e.pending)e[en]=!1;else{if(!e[en]&&!e.busy){e[en]=!0,e.emit("drain");continue}return}if(e.running>=e[Dt])return;const t=e[L][e[Z]];if(t.aborted){e[L].splice(e[Z],1);continue}if(e[Ve]!==t.servername){if(e.running)return;if(e[Ve]=t.servername,e[$]){R.destroy(e[$],new Et("servername changed"));return}}if(!e[$]&&!e[Pe]){e[Qe]?(e[Pe]=setTimeout(()=>{e[Pe]=null,ki(e)},e[Qe]),e[Qe]=Math.min(e[Qe]*2,e[Ii])):(ki(e),e[Qe]=1e3);return}if(!e.connected)return;if(e[_e]||e[Re])return;if(e.running&&!t.idempotent)return;if(e.running&&(t.upgrade||t.method==="CONNECT"))return;if(R.isStream(t.body)&&R.bodyLength(t.body)===0&&(t.body.on("data",function(){I(!1)}).on("error",function(r){t.onError(r)}).on("end",function(){R.destroy(this)}),t.body=null),e.running&&R.isStream(t.body))return;try{Vm(e,t),e[Z]++}catch(r){t.onError(r)}}}function Vm(e,t){const{body:r,header:n}=t;r&&typeof r.read=="function"&&r.read(0);let i=R.bodyLength(r);if(i===null&&(i=t.contentLength),i===0&&!t.expectsPayload&&(i=null),t.contentLength!==null&&t.contentLength!==i)throw new xi;t.reset&&(e[Re]=!0);const s=e[$];if(!r)i===0?s.write(`${n}content-length: ${i}\r
\r
\r
`,"ascii"):(I(i===null,"no body must not have content length"),s.write(`${n}\r
`,"ascii"));else if(R.isBuffer(r))I(i!==null,"buffer body must have content length"),s.cork(),s.write(`${n}content-length: ${i}\r
\r
`,"ascii"),s.write(r),s.write($m),s.uncork(),t.body=null;else{I(R.isStream(r)),I(i!==0||!e.running,"stream body cannot be pipelined");let o=!1,a=0;const l=function(f){I(!o);const h=Buffer.byteLength(f);if(!h)return;if(i!==null&&a+h>i){R.destroy(s,new xi);return}a===0&&(i===null?s.write(`${n}transfer-encoding: chunked\r
`,"ascii"):s.write(`${n}content-length: ${i}\r
\r
`,"ascii")),i===null&&s.write(`\r
${h.toString(16)}\r
`,"ascii"),a+=h,!s.write(f)&&this.pause&&this.pause()},u=function(){I(!o),r.resume&&r.resume()},c=function(){p(new Im)},d=function(){I(!1,"socket should not close without error")},p=function(f){if(o)return;if(o=!0,I(e[_e]&&e.running<=1),e[_e]=!1,!f&&i!==null&&a!==i&&(f=new xi),s.removeListener("drain",u).removeListener("error",p).removeListener("close",d),r.removeListener("data",l).removeListener("end",p).removeListener("error",p).removeListener("close",c),t.body=null,R.destroy(r,f),f){R.destroy(s,f);return}a===0?t.expectsPayload?s.write(`${n}content-length: 0\r
\r
\r
`,"ascii"):s.write(`${n}\r
`,"ascii"):i===null&&s.write(`\r
0\r
\r
`,"ascii"),Ee(e)};r.on("data",l).on("end",p).on("error",p).on("close",c),s.on("drain",u).on("error",p).on("close",p),e[_e]=!0}}xu.exports=Um});var Uu=g((Uw,Bu)=>{"use strict";const xt=Ri(),{InvalidArgumentError:Jm}=Me(),{PassThrough:Ym}=require("stream"),{kClients:tr,kQueue:St,kPendingIdx:Ke}=Kt(),{PipelineHandler:Qm}=Di();class Km{constructor(e,{connections:t,...r}={}){if(t!=null&&(!Number.isFinite(t)||t<=0))throw new Jm("invalid connections");this[St]=[],this[Ke]=0,this[tr]=Array.from({length:t||10},()=>new xt(e,r));const n=this;function i(){for(;n[Ke]<n[St].length&&!this.busy;){const{fn:s,args:o}=n[St][n[Ke]];n[St][n[Ke]++]=null,s.apply(this,o)}n[Ke]>256&&(n[St].splice(0,n[Ke]),n[Ke]=0)}for(const s of this[tr])s.on("drain",i)}stream(e,t,r){if(r===void 0)return new Promise((n,i)=>{this.stream(e,t,(s,o)=>s?i(s):n(o))});rr(this,xt.prototype.stream,e,t,r)}pipeline(e,t){try{const r=new Qm(e,t),{path:n,method:i,headers:s,idempotent:o,servername:a,signal:l,requestTimeout:u}=e;return this.dispatch({path:n,method:i,body:r.req,headers:s,idempotent:o,servername:a,signal:l,requestTimeout:u},r),r.ret}catch(r){return new Ym().destroy(r)}}request(e,t){if(t===void 0)return new Promise((r,n)=>{this.request(e,(i,s)=>i?n(i):r(s))});rr(this,xt.prototype.request,e,t)}upgrade(e,t){if(t===void 0)return new Promise((r,n)=>{this.upgrade(e,(i,s)=>i?n(i):r(s))});rr(this,xt.prototype.upgrade,e,t)}connect(e,t){if(t===void 0)return new Promise((r,n)=>{this.connect(e,(i,s)=>i?n(i):r(s))});rr(this,xt.prototype.connect,e,t)}dispatch(e,t){rr(this,xt.prototype.dispatch,e,t)}close(e){const t=Promise.all(this[tr].map(r=>r.close()));if(e)t.then(()=>e(null,null),r=>e(r,null));else return t}destroy(e,t){typeof e=="function"&&(t=e,e=null);const r=Promise.all(this[tr].map(n=>n.destroy(e)));if(t)r.then(()=>t(null,null));else return r}}function rr(e,t,...r){const n=e[tr].find(i=>!i.busy);n?t.apply(n,r):e[St].push({fn:t,args:r})}Bu.exports=Km});var Hu=g((Gw,Gu)=>{"use strict";const Xm=Ri(),zu=Uu(),Zm=Me();function on(e,t){return new zu(e,t)}on.Pool=zu;on.Client=Xm;on.errors=Zm;Gu.exports=on});var Vu=g(Ct=>{"use strict";var eg=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.Undici=void 0;const Wu=eg(gi()),tg=Hu();class rg{constructor(e,t){this.closed=!1,this.pool=new tg.Pool(e,{connections:100,pipelining:10,requestTimeout:0,socketTimeout:0,...t})}request(e,t){return new Promise((r,n)=>{this.pool.request({path:"/",method:"POST",headers:{"Content-Type":"application/json",...t},body:e},async(i,s)=>{if(i)n(i);else{const{statusCode:o,headers:a,body:l}=s,u=JSON.parse(await Wu.default(l));r({statusCode:o,headers:a,data:u})}})})}status(){return new Promise((e,t)=>{this.pool.request({path:"/",method:"GET"},async(r,n)=>{if(r)t(r);else{const{statusCode:i,headers:s,body:o}=n,a=JSON.parse(await Wu.default(o));e({statusCode:i,headers:s,data:a})}})})}close(){this.closed||this.pool.close(()=>{}),this.closed=!0}}Ct.Undici=rg});var Pi=g(Ot=>{"use strict";var Ae=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.NodeEngine=void 0;const D=Hn(),an=Ae(jn()),ng=Po(),nr=Ae(require("path")),ig=Ae(require("net")),ie=Ae(require("fs")),W=Ae(ve()),sg=Jn(),_i=Rr(),Ju=require("util"),og=Ae(require("events")),ag=Bn(),lg=require("child_process"),Yu=Ae(Qn()),Qu=Ae(Ho()),Ku=Ae(Nl()),ug=ql(),Xu=Vu(),N=an.default("engine"),cg=Ju.promisify(ie.default.exists),dg=Ju.promisify(ie.default.readdir),Zu=["native","darwin","debian-openssl-1.0.x","debian-openssl-1.1.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","linux-musl","linux-nixos","windows","freebsd11","freebsd12","openbsd","netbsd","arm"],ln=[],ir=[];class fg{constructor({cwd:e,datamodelPath:t,prismaPath:r,generator:n,datasources:i,showColors:s,logLevel:o,logQueries:a,env:l,flags:u,clientVersion:c,enableExperimental:d,engineEndpoint:p,enableDebugLogs:f,enableEngineDebugMode:h,useUds:y}){var m;this.restartCount=0,this.queryEngineStarted=!1,this.enableExperimental=[],this.useUds=!1,this.queryEngineKilled=!1,this.managementApiEnabled=!1,this.ready=!1,this.stderrLogs="",this.stdoutLogs="",this.handleRequestError=async(b,v)=>{var A,P,Q,K;N({error:b});let x;if(this.currentRequestPromise.isCanceled&&this.lastError)this.lastError.is_panic?(x=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastError),version:this.clientVersion})),this.lastPanic=x):x=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastError),version:this.clientVersion}));else if(this.currentRequestPromise.isCanceled&&this.lastErrorLog)((P=(A=this.lastErrorLog)===null||A===void 0?void 0:A.fields)===null||P===void 0?void 0:P.message)==="PANIC"?(x=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastErrorLog),version:this.clientVersion})),this.lastPanic=x):x=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastErrorLog),version:this.clientVersion}));else if(b.code&&b.code==="ECONNRESET"||b.code==="ECONNREFUSED"||b.code==="UND_ERR_SOCKET"&&b.message.toLowerCase().includes("closed")||b.message.toLowerCase().includes("client is destroyed")||b.message.toLowerCase().includes("other side closed")){if(this.globalKillSignalReceived&&!this.child.connected)throw new D.PrismaClientUnknownRequestError(`The Node.js process already received a ${this.globalKillSignalReceived} signal, therefore the Prisma query engine exited
and your request can't be processed.
You probably have some open handle that prevents your process from exiting.
It could be an open http server or stream that didn't close yet.
We recommend using the \`wtfnode\` package to debug open handles.`);if(this.restartCount>4)throw new Error(`Query engine is trying to restart, but can't.
Please look into the logs or turn on the env var DEBUG=* to debug the constantly restarting query engine.`);if(this.lastError?this.lastError.is_panic?(x=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastError),version:this.clientVersion})),this.lastPanic=x):x=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastError),version:this.clientVersion})):this.lastErrorLog&&(((K=(Q=this.lastErrorLog)===null||Q===void 0?void 0:Q.fields)===null||K===void 0?void 0:K.message)==="PANIC"?(x=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastErrorLog),version:this.clientVersion})),this.lastPanic=x):x=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:D.getMessage(this.lastErrorLog),version:this.clientVersion}))),!x){let X=this.getLastLog();X||(await new Promise(xe=>setTimeout(xe,500)),X=this.getLastLog());const q=X||this.stderrLogs||this.stdoutLogs;let me=X!=null?X:b.message,ge=b.stack+`
Exit code: `+this.exitCode+`
`+q;if(ge=`signalCode: ${this.child.signalCode} | exitCode: ${this.child.exitCode} | killed: ${this.child.killed}
`+ge,x=new D.PrismaClientUnknownRequestError(D.getErrorMessageWithLink({platform:this.platform,title:me,version:this.clientVersion,description:ge})),N(x.message),v)return!1}}throw x||b},this.env=l,this.cwd=this.resolveCwd(e),this.enableDebugLogs=f!=null?f:!1,this.enableEngineDebugMode=h!=null?h:!1,this.datamodelPath=t,this.prismaPath=(m=process.env.PRISMA_QUERY_ENGINE_BINARY)!==null&&m!==void 0?m:r,this.generator=n,this.datasources=i,this.logEmitter=new og.default,this.showColors=s!=null?s:!1,this.logLevel=o,this.logQueries=a!=null?a:!1,this.clientVersion=c,this.flags=u!=null?u:[],this.enableExperimental=d!=null?d:[];const w=["middlewares","aggregateApi","distinct","aggregations"],M=this.enableExperimental.filter(b=>w.includes(b));if(M.length>0&&console.log(`Info: The preview flags \`${M.join("`, `")}\` were removed, you can now safely remove them from your schema.prisma.`),this.enableExperimental=this.enableExperimental.filter(b=>!w.includes(b)),this.engineEndpoint=p,y&&process.platform!=="win32"&&(this.socketPath=`/tmp/prisma-${_i.getRandomString()}.sock`,ir.push(this.socketPath),this.useUds=y),p){const b=new URL(p);this.port=Number(b.port)}if(this.logEmitter.on("error",b=>{this.enableDebugLogs&&an.default("engine:log")(b),b instanceof Error?an.default("engine:error")(b):(this.lastErrorLog=b,b.fields.message==="PANIC"&&this.handlePanic(b))}),this.platform){if(!Zu.includes(this.platform)&&!ie.default.existsSync(this.platform))throw new D.PrismaClientInitializationError(`Unknown ${W.default.red("PRISMA_QUERY_ENGINE_BINARY")} ${W.default.redBright.bold(this.platform)}. Possible binaryTargets: ${W.default.greenBright(Zu.join(", "))} or a path to the query engine binary.
You may have to run ${W.default.greenBright("prisma generate")} for your changes to take effect.`)}else this.getPlatform();this.enableDebugLogs&&an.default.enable("*"),ln.push(this)}resolveCwd(e){return e&&ie.default.existsSync(e)&&ie.default.lstatSync(e).isDirectory()?e:process.cwd()}on(e,t){this.logEmitter.on(e,t)}async getPlatform(){return this.platformPromise?this.platformPromise:(this.platformPromise=ng.getPlatform(),this.platformPromise)}getQueryEnginePath(e,t=__dirname){let r=nr.default.join(t,`query-engine-${e}`);return e==="windows"&&(r=`${r}.exe`),r}handlePanic(e){var t;(t=this.child)===null||t===void 0||t.kill(),this.currentRequestPromise&&this.currentRequestPromise.cancel()}async resolvePrismaPath(){if(this.prismaPath)return this.prismaPath;const platform=await this.getPlatform();this.platform&&this.platform!==platform&&(this.incorrectlyPinnedBinaryTarget=this.platform),this.platform=this.platform||platform;const fileName=eval("require('path').basename(__filename)");if(fileName==="NodeEngine.js")return this.getQueryEnginePath(this.platform,nr.default.resolve(__dirname,".."));{const dotPrismaPath=await this.getQueryEnginePath(this.platform,eval("require('path').join(__dirname, '../../../.prisma/client')"));if(N({dotPrismaPath}),ie.default.existsSync(dotPrismaPath))return dotPrismaPath;const dirnamePath=await this.getQueryEnginePath(this.platform,eval("__dirname"));if(N({dirnamePath}),ie.default.existsSync(dirnamePath))return dirnamePath;const parentDirName=await this.getQueryEnginePath(this.platform,nr.default.join(eval("__dirname"),".."));if(N({parentDirName}),ie.default.existsSync(parentDirName))return parentDirName;const datamodelDirName=await this.getQueryEnginePath(this.platform,nr.default.dirname(this.datamodelPath));if(ie.default.existsSync(datamodelDirName))return datamodelDirName;const cwdPath=await this.getQueryEnginePath(this.platform,this.cwd);if(ie.default.existsSync(cwdPath))return cwdPath;const prismaPath=await this.getQueryEnginePath(this.platform);return N({prismaPath}),prismaPath}}async getPrismaPath(){const e=await this.resolvePrismaPath(),t=await this.getPlatform();if(!await cg(e)){const r=this.incorrectlyPinnedBinaryTarget?`
You incorrectly pinned it to ${W.default.redBright.bold(`${this.incorrectlyPinnedBinaryTarget}`)}
`:"",n=nr.default.dirname(e),i=ie.default.existsSync(n);let s=[];i&&(s=await dg(n));let o=`Query engine binary for current platform "${W.default.bold(t)}" could not be found.${r}
This probably happens, because you built Prisma Client on a different platform.
(Prisma Client looked in "${W.default.underline(e)}")

Files in ${n}:

${s.map(a=>`  ${a}`).join(`
`)}
`;throw this.generator?this.generator.binaryTargets.includes(this.platform)||this.generator.binaryTargets.includes("native")?o+=`
You already added the platform${this.generator.binaryTargets.length>1?"s":""} ${this.generator.binaryTargets.map(a=>`"${W.default.bold(a)}"`).join(", ")} to the "${W.default.underline("generator")}" block
in the "schema.prisma" file as described in https://pris.ly/d/client-generator,
but something went wrong. That's suboptimal.

Please create an issue at https://github.com/prisma/prisma-client-js/issues/new`:o+=`

To solve this problem, add the platform "${this.platform}" to the "${W.default.underline("generator")}" block in the "schema.prisma" file:
${W.default.greenBright(this.getFixedGenerator())}

Then run "${W.default.greenBright("prisma generate")}" for your changes to take effect.
Read more about deploying Prisma Client: https://pris.ly/d/client-generator`:o+=`

Read more about deploying Prisma Client: https://pris.ly/d/client-generator
`,new D.PrismaClientInitializationError(o)}return this.incorrectlyPinnedBinaryTarget&&console.error(`${W.default.yellow("Warning:")} You pinned the platform ${W.default.bold(this.incorrectlyPinnedBinaryTarget)}, but Prisma Client detects ${W.default.bold(await this.getPlatform())}.
This means you should very likely pin the platform ${W.default.greenBright(await this.getPlatform())} instead.
${W.default.dim("In case we're mistaken, please report this to us ðŸ™.")}`),process.platform!=="win32"&&_i.plusX(e),e}getFixedGenerator(){const e={...this.generator,binaryTargets:_i.fixBinaryTargets(this.generator.binaryTargets,this.platform)};return sg.printGeneratorConfig(e)}printDatasources(){return this.datasources?JSON.stringify(this.datasources):"[]"}async start(){return this.startPromise||(this.startPromise=this.internalStart()),this.startPromise}async getEngineEnvVars(){const e={PRISMA_DML_PATH:this.datamodelPath,RUST_BACKTRACE:"1",RUST_LOG:"info"};return this.useUds||(e.PORT=String(this.port),N(`port: ${this.port}`)),(this.logQueries||this.logLevel==="info")&&(e.RUST_LOG="info",this.logQueries&&(e.LOG_QUERIES="true")),this.datasources&&(e.OVERWRITE_DATASOURCES=this.printDatasources()),!process.env.NO_COLOR&&this.showColors&&(e.CLICOLOR_FORCE="1"),{...this.env,...process.env,...e}}internalStart(){return new Promise(async(e,t)=>{var r,n,i;if(await new Promise(s=>process.nextTick(s)),this.stopPromise&&await this.stopPromise,this.engineEndpoint){try{await Qu.default(()=>this.undici.status(),{retries:10})}catch(s){return t(s)}return e()}try{(((r=this.child)===null||r===void 0?void 0:r.connected)||this.child&&!((n=this.child)===null||n===void 0?void 0:n.killed))&&N("There is a child that still runs and we want to start again"),this.queryEngineStarted=!1,this.lastError=void 0,this.lastErrorLog=void 0,this.lastPanic=void 0,this.queryEngineKilled=!1,this.globalKillSignalReceived=void 0,N({cwd:this.cwd});const s=await this.getPrismaPath(),o=this.enableExperimental&&Array.isArray(this.enableExperimental)&&this.enableExperimental.length>0?[`--enable-experimental=${this.enableExperimental.join(",")}`]:[],a=this.enableEngineDebugMode?["--debug"]:[],l=[...o,...a,"--enable-raw-queries",...this.flags];this.useUds&&l.push("--unix-path",this.socketPath),N({flags:l}),this.port=await this.getFreePort();const u=await this.getEngineEnvVars();if(this.child=lg.spawn(s,l,{env:u,cwd:this.cwd,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),Yu.default(this.child.stderr).on("data",c=>{const d=String(c);N("stderr",d);try{const p=JSON.parse(d);if(typeof p.is_panic!="undefined"&&(N(p),this.lastError=p,this.engineStartDeferred)){const f=new D.PrismaClientInitializationError(this.lastError.message);this.engineStartDeferred.reject(f)}}catch(p){!d.includes("Printing to stderr")&&!d.includes("Listening on ")&&(this.stderrLogs+=`
`+d)}}),Yu.default(this.child.stdout).on("data",c=>{var d;const p=String(c);try{const f=JSON.parse(p);if(N("stdout",f),this.engineStartDeferred&&f.level==="INFO"&&f.target==="query_engine::server"&&((d=f.fields)===null||d===void 0?void 0:d.message.startsWith("Started http server"))&&(this.useUds?this.undici=new Xu.Undici({hostname:"localhost",protocol:"http:"},{socketPath:this.socketPath}):this.undici=new Xu.Undici(`http://localhost:${this.port}`),this.engineStartDeferred.resolve(),this.engineStartDeferred=void 0,this.queryEngineStarted=!0),typeof f.is_panic=="undefined"){const h=ag.convertLog(f);this.logEmitter.emit(h.level,h),this.lastLog=h}else this.lastError=f}catch(f){N(f,p)}}),this.child.on("exit",c=>{var d;if(this.engineStopDeferred){this.engineStopDeferred.resolve(c);return}if((d=this.undici)===null||d===void 0||d.close(),this.exitCode=c,!this.queryEngineKilled&&this.queryEngineStarted&&this.restartCount<5){Qu.default(async p=>{N(`Restart attempt ${p}. Waiting for backoff`),this.backoffPromise&&await this.backoffPromise,N(`Restart attempt ${p}. Backoff done`),this.restartCount++;const f=Math.random()*2*Math.pow(Math.E,this.restartCount);return this.startPromise=void 0,this.backoffPromise=new Promise(h=>setTimeout(h,f)),this.start()},{retries:4,randomize:!0,minTimeout:1e3,maxTimeout:60*1e3,factor:Math.E,onFailedAttempt:p=>{N(p)}});return}if(c!==0&&this.engineStartDeferred){let p;c!==null?p=new D.PrismaClientInitializationError(`Query engine exited with code ${c}
`+this.stderrLogs):this.child.signalCode?p=new D.PrismaClientInitializationError(`Query engine process killed with signal ${this.child.signalCode} for unknown reason.
Make sure that the engine binary at ${s} is not corrupt.
`+this.stderrLogs):p=new D.PrismaClientInitializationError(this.stderrLogs),this.engineStartDeferred.reject(p)}if(!this.child)return;if(this.lastError)return;if(this.lastErrorLog){this.lastErrorLog.target="exit";return}c===126?this.lastErrorLog={timestamp:new Date,target:"exit",level:"error",fields:{message:`Couldn't start query engine as it's not executable on this operating system.
You very likely have the wrong "binaryTarget" defined in the schema.prisma file.`}}:this.lastErrorLog={target:"exit",timestamp:new Date,level:"error",fields:{message:(this.stderrLogs||"")+(this.stdoutLogs||"")+`
Exit code: ${c}`}}}),this.child.on("error",c=>{this.lastError={message:c.message,backtrace:"Could not start query engine",is_panic:!1},t(c)}),this.child.on("close",(c,d)=>{var p,f;if((p=this.undici)===null||p===void 0||p.close(),c===null&&d==="SIGABRT"&&this.child){const h=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:"Panic in Query Engine with SIGABRT signal",description:this.stderrLogs,version:this.clientVersion}));this.logEmitter.emit("error",h)}else if(c===255&&d===null&&((f=this.lastErrorLog)===null||f===void 0?void 0:f.fields.message)==="PANIC"&&!this.lastPanic){const h=new D.PrismaClientRustPanicError(D.getErrorMessageWithLink({platform:this.platform,title:`${this.lastErrorLog.fields.message}: ${this.lastErrorLog.fields.reason} in
${this.lastErrorLog.fields.file}:${this.lastErrorLog.fields.line}:${this.lastErrorLog.fields.column}`,version:this.clientVersion}));this.logEmitter.emit("error",h)}}),this.lastError)return t(new D.PrismaClientInitializationError(D.getMessage(this.lastError)));if(this.lastErrorLog)return t(new D.PrismaClientInitializationError(D.getMessage(this.lastErrorLog)));try{await new Promise((c,d)=>{this.engineStartDeferred={resolve:c,reject:d}})}catch(c){throw(i=this.child)===null||i===void 0||i.kill(),c}this.url=`http://localhost:${this.port}`,(async()=>{const c=await this.version();N(`Client Version ${this.clientVersion}`),N(`Engine Version ${c}`)})(),this.stopPromise=void 0,e()}catch(s){t(s)}})}async stop(){return this.stopPromise||(this.stopPromise=this._stop()),this.stopPromise}async _stop(){var e,t;if(this.startPromise&&await this.startPromise,await new Promise(n=>process.nextTick(n)),this.currentRequestPromise)try{await this.currentRequestPromise}catch(n){}this.getConfigPromise=void 0;let r;this.child&&(N("Stopping Prisma engine4"),this.startPromise&&(N("Waiting for start promise"),await this.startPromise),N("Done waiting for start promise"),r=new Promise((n,i)=>{this.engineStopDeferred={resolve:n,reject:i}}),this.queryEngineKilled=!0,(e=this.undici)===null||e===void 0||e.close(),(t=this.child)===null||t===void 0||t.kill(),this.child=void 0),r&&await r,await new Promise(n=>process.nextTick(n)),this.startPromise=void 0,this.engineStopDeferred=void 0,setTimeout(()=>{if(this.socketPath){try{ie.default.unlinkSync(this.socketPath)}catch(n){N(n)}ir.splice(ir.indexOf(this.socketPath),1),this.socketPath=void 0}})}async kill(e){var t,r;this.getConfigPromise=void 0,this.globalKillSignalReceived=e,this.queryEngineKilled=!0,(t=this.child)===null||t===void 0||t.kill(),(r=this.undici)===null||r===void 0||r.close()}getFreePort(){return new Promise((e,t)=>{const r=ig.default.createServer(n=>n.end(""));r.unref(),r.on("error",t),r.listen(0,()=>{const n=r.address(),i=typeof n=="string"?parseInt(n.split(":").slice(-1)[0],10):n.port;r.close(s=>{s&&t(s),e(i)})})})}async getConfig(){return this.getConfigPromise||(this.getConfigPromise=this._getConfig()),this.getConfigPromise}async _getConfig(){const e=await this.getPrismaPath(),t=await this.getEngineEnvVars(),r=await Ku.default(e,["cli","get-config"],{env:ug.omit(t,["PORT"]),cwd:this.cwd});return JSON.parse(r.stdout)}async version(){const e=await this.getPrismaPath(),t=await Ku.default(e,["--version"],{env:{...process.env}});return t.stdout}async request(e,t,r=1){if(this.stopPromise&&await this.stopPromise,await this.start(),!this.child&&!this.engineEndpoint)throw new D.PrismaClientUnknownRequestError("Can't perform request, as the Engine has already been stopped");return this.currentRequestPromise=this.undici.request(pg(e),t),this.currentRequestPromise.then(({data:n,headers:i})=>{if(n.errors)throw n.errors.length===1?this.graphQLToJSError(n.errors[0]):new Error(JSON.stringify(n.errors));const s=parseInt(i["x-elapsed"])/1e3;return this.restartCount>0&&(this.restartCount=0),{data:n,elapsed:s}}).catch(async n=>{const i=await this.handleRequestError(n,r<3);if(!i&&r<3)return await new Promise(s=>setTimeout(s,Math.random()*1e3)),this.request(e,t,r+1);throw i})}async requestBatch(e,t=!1,r=1){if(await this.start(),!this.child&&!this.engineEndpoint)throw new D.PrismaClientUnknownRequestError("Can't perform request, as the Engine has already been stopped");const n={},i={batch:e.map(s=>({query:s,variables:n})),transaction:t};return this.currentRequestPromise=this.undici.request(JSON.stringify(i)),this.currentRequestPromise.then(({data:s,headers:o})=>{const a=parseInt(o["x-elapsed"])/1e3;if(Array.isArray(s))return s.map(l=>l.errors?this.graphQLToJSError(l.errors[0]):{data:l,elapsed:a});throw s.errors&&s.errors.length===1?new Error(s.errors[0].error):new Error(JSON.stringify(s))}).catch(async s=>{const o=await this.handleRequestError(s,r<3);if(!o&&r<3)return await new Promise(a=>setTimeout(a,Math.random()*1e3)),this.requestBatch(e,t,r+1);throw o})}getLastLog(){var e,t,r;const n=(t=(e=this.lastLog)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.message;if(n){const i=Object.entries((r=this.lastLog)===null||r===void 0?void 0:r.fields).filter(([s])=>s!=="message").map(([s,o])=>`${s}: ${o}`).join(", ");return i?`${n}  ${i}`:n}return null}graphQLToJSError(e){return e.user_facing_error.error_code?new D.PrismaClientKnownRequestError(e.user_facing_error.message,e.user_facing_error.error_code,e.user_facing_error.meta):new D.PrismaClientUnknownRequestError(e.user_facing_error.message)}}Ot.NodeEngine=fg;function pg(e){return`{"variables":{},"query":${JSON.stringify(e)}}`}function It(e,t=!1){process.once(e,()=>{for(const r of ln)r.kill(e);if(ln.splice(0,ln.length),t&&process.exit(),ir.length>0)for(const r of ir)try{ie.default.unlinkSync(r)}catch(n){}})}It("beforeExit");It("exit");It("SIGINT",!0);It("SIGUSR1",!0);It("SIGUSR2",!0);It("SIGTERM",!0)});var tc=g(kt=>{"use strict";var ec=kt&&kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kt,"__esModule",{value:!0});kt.getInternalDatamodelJson=void 0;const hg=ec(require("path")),mg=require("child_process"),gg=ec(Qn());function yg(e,t=hg.default.join(__dirname,"../schema-inferrer-bin")){return new Promise((r,n)=>{const i=mg.spawn(t,{stdio:["pipe","pipe",process.stderr]});i.on("error",function(a){console.error("[schema-inferrer-bin] error: %s",a),n(a)}),i.on("exit",function(a,l){a!==0&&console.error("[schema-inferrer-bin] exit: code=%s signal=%s",a,l),n()});const s=gg.default(i.stdout);s.on("data",a=>{const l=JSON.parse(a),u=Buffer.from(JSON.stringify(l)).toString("base64");r(u)});const o=e.replace(/\n/g," ");i.stdin.write(JSON.stringify({dataModel:o})+`
`)})}kt.getInternalDatamodelJson=yg});var rc=g(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.fixBinaryTargets=z.printGeneratorConfig=z.getInternalDatamodelJson=z.Engine=z.PrismaClientRustPanicError=z.PrismaClientInitializationError=z.PrismaClientUnknownRequestError=z.PrismaClientKnownRequestError=void 0;var un=Hn();Object.defineProperty(z,"PrismaClientKnownRequestError",{enumerable:!0,get:function(){return un.PrismaClientKnownRequestError}});Object.defineProperty(z,"PrismaClientUnknownRequestError",{enumerable:!0,get:function(){return un.PrismaClientUnknownRequestError}});Object.defineProperty(z,"PrismaClientInitializationError",{enumerable:!0,get:function(){return un.PrismaClientInitializationError}});Object.defineProperty(z,"PrismaClientRustPanicError",{enumerable:!0,get:function(){return un.PrismaClientRustPanicError}});var wg=Pi();Object.defineProperty(z,"Engine",{enumerable:!0,get:function(){return wg.NodeEngine}});var bg=tc();Object.defineProperty(z,"getInternalDatamodelJson",{enumerable:!0,get:function(){return bg.getInternalDatamodelJson}});var Mg=Jn();Object.defineProperty(z,"printGeneratorConfig",{enumerable:!0,get:function(){return Mg.printGeneratorConfig}});var vg=Rr();Object.defineProperty(z,"fixBinaryTargets",{enumerable:!0,get:function(){return vg.fixBinaryTargets}})});var Li=g(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.sqltag=se.empty=se.raw=se.join=se.Sql=void 0;const Tg=require("util");class Le{constructor(e,t){if(e.length===0)throw new TypeError("Expected at least 1 string");if(e.length-1!==t.length)throw new TypeError(`Expected ${e.length} strings to have ${e.length-1} values`);let r=t.length,n=e.length;for(const o of t)o instanceof Le&&(r+=o.values.length-1,n+=o.strings.length-2);this.values=new Array(r),this.strings=new Array(n),this.strings[0]=e[0];let i=1,s=0;for(;i<e.length;){const o=t[i-1],a=e[i++];if(o instanceof Le){this.strings[s]+=o.strings[0];let l=0;for(;l<o.values.length;)this.values[s++]=o.values[l++],this.strings[s]=o.strings[l];this.strings[s]+=a}else this.values[s++]=o,this.strings[s]=a}}get text(){return this.strings.reduce((e,t,r)=>`${e}$${r}${t}`)}get sql(){return this.strings.join("?")}[Tg.inspect.custom](){return{text:this.text,sql:this.sql,values:this.values}}}se.Sql=Le;Object.defineProperty(Le.prototype,"sql",{enumerable:!0});Object.defineProperty(Le.prototype,"text",{enumerable:!0});function Eg(e,t=","){if(e.length===0)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new Le(["",...Array(e.length-1).fill(t),""],e)}se.join=Eg;function nc(e){return new Le([e],[])}se.raw=nc;se.empty=nc("");function ic(e,...t){return new Le(e.raw,t)}se.sqltag=ic;se.default=ic});var ac=g((Yw,Ni)=>{const Ag=require("fs"),Dg=require("path");function sc(e){console.log(`[dotenv][DEBUG] ${e}`)}const xg=`
`,Sg=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,Cg=/\\n/g,Og=/\n|\r|\r\n/;function oc(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(Og).forEach(function(i,s){const o=i.match(Sg);if(o!=null){const a=o[1];let l=o[2]||"";const u=l.length-1,c=l[0]==='"'&&l[u]==='"',d=l[0]==="'"&&l[u]==="'";d||c?(l=l.substring(1,u),c&&(l=l.replace(Cg,xg))):l=l.trim(),n[a]=l}else r&&sc(`did not match key and value when parsing line ${s+1}: ${i}`)}),n}function Ig(e){let t=Dg.resolve(process.cwd(),".env"),r="utf8",n=!1;e&&(e.path!=null&&(t=e.path),e.encoding!=null&&(r=e.encoding),e.debug!=null&&(n=!0));try{const i=oc(Ag.readFileSync(t,{encoding:r}),{debug:n});return Object.keys(i).forEach(function(s){Object.prototype.hasOwnProperty.call(process.env,s)?n&&sc(`"${s}" is already defined in \`process.env\` and will not be overwritten`):process.env[s]=i[s]}),{parsed:i}}catch(i){return{error:i}}}Ni.exports.config=Ig;Ni.exports.parse=oc});var lc=g(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.dotenvExpand=void 0;function kg(e){const t=e.ignoreProcessEnv?{}:process.env,r=i=>{var s=i.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)||[];return s.reduce(function(o,a){const l=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(a);if(!l)return o;const u=l[1];let c,d;if(u==="\\")d=l[0],c=d.replace("\\$","$");else{const p=l[2];d=l[0].substring(u.length),c=t.hasOwnProperty(p)?t[p]:e.parsed[p]||"",c=r(c)}return o.replace(d,c)},i)};for(const i in e.parsed){const s=t.hasOwnProperty(i)?t[i]:e.parsed[i];e.parsed[i]=r(s)}for(var n in e.parsed)t[n]=e.parsed[n];return e}cn.dotenvExpand=kg});var uc=g(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.mapPreviewFeatures=void 0;const Rg={transactionApi:"transaction",aggregateApi:"aggregations"};function _g(e){return Array.isArray(e)&&e.length>0?e.map(t=>{var r;return(r=Rg[t])!==null&&r!==void 0?r:t}):[]}dn.mapPreviewFeatures=_g});var ji=g(Pg=>{Gc(Pg,{DMMF:()=>Ne,DMMFClass:()=>sr,Engine:()=>ee.Engine,PrismaClientInitializationError:()=>ee.PrismaClientInitializationError,PrismaClientKnownRequestError:()=>ee.PrismaClientKnownRequestError,PrismaClientRustPanicError:()=>ee.PrismaClientRustPanicError,PrismaClientUnknownRequestError:()=>ee.PrismaClientUnknownRequestError,PrismaClientValidationError:()=>pn,RawValue:()=>F.RawValue,Sql:()=>F.Sql,Value:()=>F.Value,debugLib:()=>qi.default,empty:()=>F.empty,getPrismaClient:()=>Fi,join:()=>F.join,makeDocument:()=>or,raw:()=>F.raw,sqltag:()=>F.sqltag,transformDocument:()=>ar,unpack:()=>lr});const qi=_($t()),ee=_(rc()),F=_(Li())});var Ne;(function(e){let t;(function(r){r.findOne="findOne",r.findMany="findMany",r.create="create",r.update="update",r.updateMany="updateMany",r.upsert="upsert",r.delete="delete",r.deleteMany="deleteMany"})(t=e.ModelAction||(e.ModelAction={}))})(Ne||(Ne={}));const qe=_(ve()),$i=_(Er()),cc=_(Us()),Fe=(e,t)=>{const r={};for(const n of e){const i=n[t];r[i]=n}return r},dc=(e,t,r)=>{const n={};for(const i of e){const s=i[r];n[s]=i}for(const i of t){const s=i[r];n[s]=i}return n},Xe={String:!0,Int:!0,Float:!0,Boolean:!0,Long:!0,DateTime:!0,ID:!0,UUID:!0,Json:!0};function pc(e){return typeof e!="string"?!1:Xe[e]||!1}const Lg={string:"String",boolean:"Boolean",object:"Json"};function Rt(e){return typeof e=="string"?e:e.name}function ur(e,t){return t?`List<${e}>`:e}function _t(e,t){if(e===null)return"null";if(Array.isArray(e)){let n=e.reduce((i,s)=>{const o=_t(s,t);return i.includes(o)||i.push(o),i},[]);return n.includes("Float")&&n.includes("Int")&&(n=["Float"]),`List<${n.join(" | ")}>`}const r=typeof e;if(r==="number")return Math.trunc(e)===e?"Int":"Float";if(Object.prototype.toString.call(e)==="[object Date]")return"DateTime";if(r==="string"){if(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e))return"UUID";const n=new Date(e);if(t&&typeof t=="object"&&t.values&&t.values.includes(e))return t.name;if(n.toString()==="Invalid Date")return"String";if(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/.test(e))return"DateTime"}return Lg[r]}function fn(e,t){const r=t.reduce((n,i)=>{const s=cc.default(e,i);return s<n.distance?{distance:s,str:i}:n},{distance:Math.min(Math.floor(e.length)*1.1,...t.map(n=>n.length*3)),str:null});return r.str}function Pt(e,t=!1){if(typeof e=="string")return e;if(e.values)return`enum ${e.name} {
${$i.default(e.values.join(", "),2)}
}`;{const r=$i.default(e.fields.map(n=>{const i=n.inputType[0],s=`${n.name}`,o=`${t?qe.default.green(s):s}${i.isRequired?"":"?"}: ${qe.default.white(n.inputType.map(a=>Ng(a.type)?a.type.name:ur(Rt(a.type),a.isList)).join(" | "))}`;return i.isRequired?o:qe.default.dim(o)}).join(`
`),2);return`${qe.default.dim("type")} ${qe.default.bold.dim(e.name)} ${qe.default.dim("{")}
${r}
${qe.default.dim("}")}`}}function Ng(e){return!(typeof e=="string")}function cr(e){return typeof e=="string"?e:e.name}function Ze(e){return typeof e=="string"?e:e.name}function Bi(e,t,r=!1){if(typeof e=="string")return e;if(e.values)return e.values.join(" | ");const n=e,i=t&&n.fields.every(s=>s.inputType[0].kind==="object")&&!n.isWhereType&&!n.atLeastOne;return r?cr(e):n.fields.reduce((s,o)=>{const a=o.inputType[0];return s[o.name+(a.isRequired?"":"?")]=o.isRelationFilter&&!i&&!a.isRequired?cr(a.type):Bi(a.type,a.isRequired,!0),s},{})}function fc(e,t,r){const n={};for(const i of e)n[r(i)]=i;for(const i of t){const s=r(i);n[s]||(n[s]=i)}return Object.values(n)}function Ui(e){return e.substring(0,1).toLowerCase()+e.substring(1)}class sr{constructor({datamodel:e,schema:t,mappings:r}){this.outputTypeMap={};this.outputTypeToMergedOutputType=e=>{const t=this.modelMap[e.name];return{...e,isEmbedded:t?t.isEmbedded:!1,fields:e.fields}};this.datamodel=e,this.schema=t,this.mappings=r,this.enumMap=this.getEnumMap(),this.queryType=this.getQueryType(),this.mutationType=this.getMutationType(),this.modelMap=this.getModelMap(),this.outputTypes=this.getOutputTypes(),this.outputTypeMap=this.getMergedOutputTypeMap(),this.resolveOutputTypes(this.outputTypes),this.inputTypes=this.schema.inputTypes,this.inputTypeMap=this.getInputTypeMap(),this.resolveInputTypes(this.inputTypes),this.resolveFieldArgumentTypes(this.outputTypes,this.inputTypeMap),this.mappingsMap=this.getMappingsMap(),this.queryType=this.outputTypeMap.Query,this.mutationType=this.outputTypeMap.Mutation,this.outputTypes=this.outputTypes,this.rootFieldMap=this.getRootFieldMap()}resolveOutputTypes(e){for(const t of e){for(const r of t.fields)typeof r.outputType.type=="string"&&!Xe[r.outputType.type]&&(r.outputType.type=this.outputTypeMap[r.outputType.type]||this.enumMap[r.outputType.type]||r.outputType.type);t.fieldMap=Fe(t.fields,"name")}}resolveInputTypes(e){for(const t of e){for(const r of t.fields){const n=r.inputType[0].type;typeof n=="string"&&!Xe[n]&&(this.inputTypeMap[n]||this.enumMap[n])&&(r.inputType[0].type=this.inputTypeMap[n]||this.enumMap[n]||r.inputType[0].type);const i=r.inputType[1]&&r.inputType[1].type;typeof i=="string"&&!Xe[i]&&(this.inputTypeMap[i]||this.enumMap[i])&&(r.inputType[1].type=this.inputTypeMap[i]||this.enumMap[i]||r.inputType[1].type)}t.fieldMap=Fe(t.fields,"name")}}resolveFieldArgumentTypes(e,t){for(const r of e)for(const n of r.fields)for(const i of n.args){const s=i.inputType[0].type;typeof s=="string"&&!Xe[s]&&(i.inputType[0].type=t[s]||this.enumMap[s]||i.inputType[0].type);const o=i.inputType[1]&&i.inputType[1].type;o&&typeof o=="string"&&!Xe[o]&&(i.inputType[1].type=t[o]||this.enumMap[o]||i.inputType[1].type)}}getQueryType(){return this.schema.outputTypes.find(e=>e.name==="Query")}getMutationType(){return this.schema.outputTypes.find(e=>e.name==="Mutation")}getOutputTypes(){return this.schema.outputTypes.map(this.outputTypeToMergedOutputType)}getEnumMap(){return Fe(this.schema.enums,"name")}getModelMap(){return Fe(this.datamodel.models,"name")}getMergedOutputTypeMap(){return Fe(this.outputTypes,"name")}getInputTypeMap(){return Fe(this.schema.inputTypes,"name")}getMappingsMap(){return Fe(this.mappings,"model")}getRootFieldMap(){return dc(this.queryType.fields,this.mutationType.fields,"name")}}function hc(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp}function mc(e){if(e instanceof Buffer){const t=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);return e.copy(t),t}else{if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}}function gc(e){const t=[];return e.forEach(function(r,n){typeof r=="object"&&r!==null?Array.isArray(r)?t[n]=gc(r):hc(r)?t[n]=mc(r):t[n]=dr({},r):t[n]=r}),t}function yc(e,t){return t==="__proto__"?void 0:e[t]}const dr=function(e,...t){if(!e||typeof e!="object")return!1;if(t.length===0)return e;let r,n;for(const i of t){if(typeof i!="object"||i===null||Array.isArray(i))continue;for(const s of Object.keys(i)){if(n=yc(e,s),r=yc(i,s),r===e)continue;if(typeof r!="object"||r===null){e[s]=r;continue}else if(Array.isArray(r)){e[s]=gc(r);continue}else if(hc(r)){e[s]=mc(r);continue}else if(typeof n!="object"||n===null||Array.isArray(n)){e[s]=dr({},r);continue}else{e[s]=dr(n,r);continue}}}return e};const wc=e=>Array.isArray(e)?e:e.split("."),Gi=(e,t)=>wc(t).reduce((r,n)=>r&&r[n],e),hn=(e,t,r)=>wc(t).reduceRight((n,i,s,o)=>Object.assign({},Gi(e,o.slice(0,s)),{[i]:n}),r);function zi(e,t){if(!e||typeof e!="object"||typeof e.hasOwnProperty!="function")return e;const r={};for(const n in e){const i=e[n];e.hasOwnProperty(n)&&t(n,i)&&(r[n]=i)}return r}function mn(e,t){const r={},n=Array.isArray(t)?t:[t];for(const i in e)e.hasOwnProperty(i)&&!n.includes(i)&&(r[i]=e[i]);return r}"use strict";const qg=Vs(),Fg=Ys(),jg=Qs().default,$g=(e,t,r)=>{const n=[];return function i(s,o={},a="",l=[]){o.indent=o.indent||"	";let u;o.inlineCharacterLimit===void 0?u={newLine:`
`,newLineOrSpace:`
`,pad:a,indent:a+o.indent}:u={newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const c=d=>{if(o.inlineCharacterLimit===void 0)return d;const p=d.replace(new RegExp(u.newLine,"g"),"").replace(new RegExp(u.newLineOrSpace,"g")," ").replace(new RegExp(u.pad+"|"+u.indent,"g"),"");return p.length<=o.inlineCharacterLimit?p:d.replace(new RegExp(u.newLine+"|"+u.newLineOrSpace,"g"),`
`).replace(new RegExp(u.pad,"g"),a).replace(new RegExp(u.indent,"g"),a+o.indent)};if(n.indexOf(s)!==-1)return'"[Circular]"';if(s==null||typeof s=="number"||typeof s=="boolean"||typeof s=="function"||typeof s=="symbol"||qg(s))return String(s);if(s instanceof Date)return`new Date('${s.toISOString()}')`;if(Array.isArray(s)){if(s.length===0)return"[]";n.push(s);const d="["+u.newLine+s.map((p,f)=>{const h=s.length-1===f?u.newLine:","+u.newLineOrSpace;let y=i(p,o,a+o.indent,[...l,f]);return o.transformValue&&(y=o.transformValue(s,f,y)),u.indent+y+h}).join("")+u.pad+"]";return n.pop(),c(d)}if(Fg(s)){let d=Object.keys(s).concat(jg(s));if(o.filter&&(d=d.filter(f=>o.filter(s,f))),d.length===0)return"{}";n.push(s);const p="{"+u.newLine+d.map((f,h)=>{const y=d.length-1===h?u.newLine:","+u.newLineOrSpace,m=typeof f=="symbol",w=!m&&/^[a-z$_][a-z$_0-9]*$/i.test(f),M=m||w?f:i(f,o,void 0,[...l,f]);let b=i(s[f],o,a+o.indent,[...l,f]);o.transformValue&&(b=o.transformValue(s,f,b));let v=u.indent+String(M)+": "+b+y;return o.transformLine&&(v=o.transformLine({obj:s,indent:u.indent,key:M,stringifiedValue:b,value:s[f],eol:y,originalLine:v,path:l.concat(M)})),v}).join("")+u.pad+"}";return n.pop(),c(p)}return s=String(s).replace(/[\r\n]/g,d=>d===`
`?"\\n":"\\r"),o.singleQuotes===!1?(s=s.replace(/"/g,'\\"'),`"${s}"`):(s=s.replace(/\\?'/g,"\\'"),`'${s}'`)}(e,t,r)};var pr=$g;const oe=_(ve()),Hi=_(Ft()),Wi="@@__DIM_POINTER__@@";function gn({ast:e,keyPaths:t,valuePaths:r,missingItems:n}){let i=e;for(const{path:s,type:o}of n)i=hn(i,s,o);return pr(i,{indent:"  ",transformLine:({indent:s,key:o,value:a,stringifiedValue:l,eol:u,path:c})=>{const d=c.join("."),p=t.includes(d),f=r.includes(d),h=n.find(m=>m.path===d);let y=l;if(h){typeof a=="string"&&(y=y.slice(1,y.length-1));const m=h.isRequired?"":"?",w=h.isRequired?"+":"?",M=h.isRequired?oe.default.greenBright:oe.default.green;let b=M(Ug(o+m+": "+y+u,s,w));return h.isRequired||(b=oe.default.dim(b)),b}else{const m=n.some(v=>d.startsWith(v.path)),w=o[o.length-2]==="?";w&&(o=o.slice(1,o.length-1)),w&&typeof a=="object"&&a!==null&&(y=y.split(`
`).map((v,A,P)=>A===P.length-1?v+Wi:v).join(`
`)),m&&typeof a=="string"&&(y=y.slice(1,y.length-1),w||(y=oe.default.bold(y))),(typeof a!="object"||a===null)&&!f&&!m&&(y=oe.default.dim(y));const M=p?oe.default.redBright(o):o;y=f?oe.default.redBright(y):y;let b=s+M+": "+y+(m?u:oe.default.dim(u));if(p||f){const v=b.split(`
`),A=String(o).length,P=p?oe.default.redBright("~".repeat(A)):" ".repeat(A),Q=f?Bg(s,o,a,l):0,K=Boolean(f&&typeof a=="object"&&a!==null),x=f?"  "+oe.default.redBright("~".repeat(Q)):"";P&&P.length>0&&!K&&v.splice(1,0,s+P+x),P&&P.length>0&&K&&v.splice(v.length-1,0,s.slice(0,s.length-2)+x),b=v.join(`
`)}return b}}})}function Bg(e,t,r,n){return r===null?4:typeof r=="string"?r.length+2:typeof r=="object"?Gg(`${t}: ${Hi.default(n)}`)-e.length:String(r).length}function Gg(e){return e.split(`
`).reduce((t,r)=>r.length>t?r.length:t,0)}function Ug(e,t,r){return e.split(`
`).map((n,i,s)=>i===0?r+t.slice(1)+n:i<s.length-1?r+n.slice(1):n).map(n=>Hi.default(n).includes(Wi)?oe.default.dim(n.replace(Wi,"")):n.includes("?")?oe.default.dim(n):n).join(`
`)}const je=_(ve()),zg=je.default.rgb(246,145,95),Hg=je.default.rgb(107,139,140),yn=je.default.cyan,bc=je.default.rgb(127,155,155),Mc=e=>e,vc={keyword:yn,entity:yn,value:bc,punctuation:Hg,directive:yn,function:yn,variable:bc,string:je.default.greenBright,boolean:zg,number:je.default.cyan,comment:je.default.grey};var wn={},Wg=0,S={manual:wn.Prism&&wn.Prism.manual,disableWorkerMessageHandler:wn.Prism&&wn.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof he){const t=e;return new he(t.type,S.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(S.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Wg}),e.__id},clone:function e(t,r){var n,i,s=S.util.type(t);r=r||{};switch(s){case"Object":if(i=S.util.objId(t),r[i])return r[i];n={},r[i]=n;for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o],r));return n;case"Array":return i=S.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(a,l){n[l]=e(a,r)}),n);default:return t}}},languages:{extend:function(e,t){var r=S.util.clone(S.languages[e]);for(var n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||S.languages;var i=n[e],s={};for(var o in i)if(i.hasOwnProperty(o)){if(o==t)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);r.hasOwnProperty(o)||(s[o]=i[o])}var l=n[e];return n[e]=s,S.languages.DFS(S.languages,function(u,c){c===l&&u!=e&&(this[u]=s)}),s},DFS:function e(t,r,n,i){i=i||{};var s=S.util.objId;for(var o in t)if(t.hasOwnProperty(o)){r.call(t,o,t[o],n||o);var a=t[o],l=S.util.type(a);l==="Object"&&!i[s(a)]?(i[s(a)]=!0,e(a,r,null,i)):l==="Array"&&!i[s(a)]&&(i[s(a)]=!0,e(a,r,o,i))}}},plugins:{},highlight:function(e,t,r){var n={code:e,grammar:t,language:r};return S.hooks.run("before-tokenize",n),n.tokens=S.tokenize(n.code,n.grammar),S.hooks.run("after-tokenize",n),he.stringify(S.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,s,o){for(var a in r){if(!r.hasOwnProperty(a)||!r[a])continue;if(a==o)return;var l=r[a];l=S.util.type(l)==="Array"?l:[l];for(var u=0;u<l.length;++u){var c=l[u],d=c.inside,p=!!c.lookbehind,f=!!c.greedy,h=0,y=c.alias;if(f&&!c.pattern.global){var m=c.pattern.toString().match(/[imuy]*$/)[0];c.pattern=RegExp(c.pattern.source,m+"g")}c=c.pattern||c;for(var w=n,M=i;w<t.length;M+=t[w].length,++w){var b=t[w];if(t.length>e.length)return;if(b instanceof he)continue;if(f&&w!=t.length-1){c.lastIndex=M;var x=c.exec(e);if(!x)break;for(var K=x.index+(p?x[1].length:0),X=x.index+x[0].length,v=w,A=M,P=t.length;v<P&&(A<X||!t[v].type&&!t[v-1].greedy);++v)A+=t[v].length,K>=A&&(++w,M=A);if(t[w]instanceof he)continue;Q=v-w,b=e.slice(M,A),x.index-=M}else{c.lastIndex=0;var x=c.exec(b),Q=1}if(!x){if(s)break;continue}p&&(h=x[1]?x[1].length:0);var K=x.index+h,x=x[0].slice(h),X=K+x.length,q=b.slice(0,K),me=b.slice(X),ge=[w,Q];q&&(++w,M+=q.length,ge.push(q));var xe=new he(a,d?S.tokenize(x,d):x,y,x,f);if(ge.push(xe),me&&ge.push(me),Array.prototype.splice.apply(t,ge),Q!=1&&S.matchGrammar(e,t,r,w,M,!0,a),s)break}}}},tokenize:function(e,t){var r=[e],n=t.rest;if(n){for(var i in n)t[i]=n[i];delete t.rest}return S.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){var r=S.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=S.hooks.all[e];if(!r||!r.length)return;for(var n=0,i;i=r[n++];)i(t)}},Token:he};S.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};S.languages.javascript=S.languages.extend("clike",{"class-name":[S.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});S.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;S.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:S.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:S.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:S.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:S.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});S.languages.markup&&S.languages.markup.tag.addInlined("script","javascript");S.languages.js=S.languages.javascript;S.languages.typescript=S.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});S.languages.ts=S.languages.typescript;function he(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}he.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return he.stringify(r,t)}).join(""):Vg(e.type)(e.content)};function Vg(e){return vc[e]||Mc}function Tc(e){return Jg(e,S.languages.javascript)}function Jg(e,t){const r=S.tokenize(e,t);return r.map(n=>he.stringify(n)).join("")}const Ec=_(to());function Ac(e){return Ec.default(e)}const ae=_(ve()),Dc=_(Ks());function Yg(e,t){const r=String(t).length,n=String(e).length;return n>=r?String(e):" ".repeat(r-n)+e}const bn=({callsite:e,originalMethod:t,onUs:r,showColors:n,renderPathRelative:i,printFullStack:s,isValidationError:o})=>{const a=20;let l=":",u=`
`,c="",d=0,p=`prisma.${t}()`;if(e&&typeof window=="undefined"){const m=Dc.parse(e),w=m.find((M,b)=>b<3&&M.methodName.includes("Object.")?!1:M.file&&!M.file.includes("@prisma")&&!M.file.includes("getPrismaClient")&&!M.methodName.includes("new ")&&!M.methodName.includes("_getCallsite")&&M.methodName.split(".").length<4);if(process.env.NODE_ENV!=="production"&&w&&w.file&&w.lineNumber&&w.column&&!w.file.startsWith("internal/")){const M=w.lineNumber,b=i?require("path").relative(process.cwd(),w.file):w.file;l=e?` in
${ae.default.underline(`${b}:${w.lineNumber}:${w.column}`)}`:"";const v=process.stdout.rows||20,A=Math.max(0,M-5),P=a+M-A;if(v>P||s){const Q=require("fs"),K=Q.existsSync(w.file);if(K){const x=Q.readFileSync(w.file,"utf-8"),X=x.split(`
`).slice(A,M).join(`
`),q=Ac(X).split(`
`),me=q[q.length-1];if(!me||me.trim()==="")l=":";else{const ge=/(\S+(create|updateMany|deleteMany|update|delete|findMany|findOne)\()/,xe=me.match(ge);xe&&(p=`${xe[1]})`);const as=me.indexOf("{"),ls=q.map((Se,Lt,En)=>!r&&Lt===En.length-1?Se.slice(0,as>-1?as:Se.length-1):Se).join(`
`),Bc=n?Tc(ls).split(`
`):ls.split(`
`);u=`
`+Bc.map((Se,Lt)=>ae.default.grey(Yg(Lt+A+1,M+A+1)+" ")+ae.default.reset()+Se).map((Se,Lt,En)=>Lt===En.length-1?`${ae.default.red.bold("â†’")} ${ae.default.dim(Se)}`:ae.default.dim("  "+Se)).join(`
`),!xe&&!o&&(u+=`

`),c=")",d=String(M+A+1).length+f(me)+1+(xe?2:0)}}}}}function f(m){let w=0;for(let M=0;M<m.length;M++){if(m.charAt(M)!==" ")return w;w++}return w}const h=r?ae.default.red(`Oops, an unknown error occured! This is ${ae.default.bold("on us")}, you did nothing wrong.
It occured in the ${ae.default.bold(`\`${p}\``)} invocation${l}`):ae.default.red(`Invalid ${ae.default.bold(`\`${p}\``)} invocation${l}`),y=`
${h}
${u}${ae.default.reset()}`;return{indent:d,stack:y,afterLines:c,lastErrorHeight:a}};function Sc(e,t){const r=e.children.map(i=>xc(i,t));if(e.children.length===r.length&&e.children.every((i,s)=>i===r[s]))return e;const n=new Vi(e.type,r);return n}function xc(e,t){const r=e.args?e.args.args.map(a=>Cc(a,t)):void 0,n=r?new C(r):void 0,i=e.children?e.children.map(a=>xc(a,t)):void 0,s=!n&&!e.args||e.args&&n&&e.args.args.length===n.args.length&&e.args.args.every((a,l)=>a===n.args[l]),o=!e.children&&!i||e.children&&i&&e.children.length===i.length&&e.children.every((a,l)=>a===i[l]);return s&&o?e:new te({name:e.name,args:n,children:i,error:e.error,schemaField:e.schemaField})}function Qg(e){return Array.isArray(e)?e.every(t=>t instanceof C):!1}function Cc(e,t){function r(s){const{args:o}=s,a=o.map(l=>Cc(l,t));return a.length!==o.length||o.find((l,u)=>l!==a[u])?new C(a):s}const n=t.Arg.enter(e)||e;let i=n.value;return Qg(n.value)?i=n.value.map(r):n.value instanceof C&&(i=r(n.value)),i!==n.value?new j({key:n.key,value:i,error:n.error,argType:n.argType,isEnum:n.isEnum}):n}function Kg(e){return Array.prototype.concat.apply([],e)}function Ji(e,t,r){return Kg(e.map(t,r))}const T=_(ve()),$e=_(Er()),Yi=_(Ft()),fr=2;class Vi{constructor(e,t){this.type=e;this.children=t;this.printFieldError=({error:e,path:t},r,n)=>{if(e.type==="emptySelect"){const i=n?"":` Available options are listed in ${T.default.greenBright.dim("green")}.`;return`The ${T.default.redBright("`select`")} statement for type ${T.default.bold(Ze(e.field.outputType.type))} must not be empty.${i}`}if(e.type==="emptyInclude"){if(r.length===0)return`${T.default.bold(Ze(e.field.outputType.type))} does not have any relation and therefore can't have an ${T.default.redBright("`include`")} statement.`;const i=n?"":` Available options are listed in ${T.default.greenBright.dim("green")}.`;return`The ${T.default.redBright("`include`")} statement for type ${T.default.bold(Ze(e.field.outputType.type))} must not be empty.${i}`}if(e.type==="noTrueSelect"){const i=n?"":` Available options are listed in ${T.default.greenBright.dim("green")}.`;return`The ${T.default.redBright("`select`")} statement for type ${T.default.bold(Ze(e.field.outputType.type))} needs ${T.default.bold("at least one truthy value")}.`}if(e.type==="includeAndSelect")return`Please ${T.default.bold("either")} use ${T.default.greenBright("`include`")} or ${T.default.greenBright("`select`")}, but ${T.default.redBright("not both")} at the same time.`;if(e.type==="invalidFieldName"){const i=e.isInclude?"include":"select",s=e.isIncludeScalar?"Invalid scalar":"Unknown",o=n?"":e.isInclude&&r.length===0?`
This model has no relations, so you can't use ${T.default.redBright("include")} with it.`:` Available options are listed in ${T.default.greenBright.dim("green")}.`;let a=`${s} field ${T.default.redBright(`\`${e.providedName}\``)} for ${T.default.bold(i)} statement on model ${T.default.bold.white(e.modelName)}.${o}`;return e.didYouMean&&(a+=` Did you mean ${T.default.greenBright(`\`${e.didYouMean}\``)}?`),e.isIncludeScalar&&(a+=`
Note, that ${T.default.bold("include")} statements only accept relation fields.`),a}if(e.type==="invalidFieldType"){const i=`Invalid value ${T.default.redBright(`${pr(e.providedValue)}`)} of type ${T.default.redBright(_t(e.providedValue,void 0))} for field ${T.default.bold(`${e.fieldName}`)} on model ${T.default.bold.white(e.modelName)}. Expected either ${T.default.greenBright("true")} or ${T.default.greenBright("false")}.`;return i}};this.printArgError=({error:e,path:t},r,n)=>{if(e.type==="invalidName"){let i=`Unknown arg ${T.default.redBright(`\`${e.providedName}\``)} in ${T.default.bold(t.join("."))} for type ${T.default.bold(e.outputType?e.outputType.name:cr(e.originalType))}.`;return e.didYouMeanField?i+=`
â†’ Did you forget to wrap it with \`${T.default.greenBright("select")}\`? ${T.default.dim("e.g. "+T.default.greenBright(`{ select: { ${e.providedName}: ${e.providedValue} } }`))}`:e.didYouMeanArg?(i+=` Did you mean \`${T.default.greenBright(e.didYouMeanArg)}\`?`,!r&&!n&&(i+=` ${T.default.dim("Available args:")}
`+Pt(e.originalType,!0))):e.originalType.fields.length===0?i+=` The field ${T.default.bold(e.originalType.name)} has no arguments.`:!r&&!n&&(i+=` Available args:

`+Pt(e.originalType,!0)),i}if(e.type==="invalidType"){let i=pr(e.providedValue,{indent:"  "});const s=i.split(`
`).length>1;if(s&&(i=`
${i}
`),e.requiredType.bestFittingType.kind==="enum")return`Argument ${T.default.bold(e.argName)}: Provided value ${T.default.redBright(i)}${s?"":" "}of type ${T.default.redBright(_t(e.providedValue))} on ${T.default.bold(`prisma.${this.children[0].name}`)} is not a ${T.default.greenBright(ur(Rt(e.requiredType.bestFittingType.kind),e.requiredType.bestFittingType.isList))}.
â†’ Possible values: ${e.requiredType.bestFittingType.type.values.map(u=>T.default.greenBright(`${Rt(e.requiredType.bestFittingType.type)}.${u}`)).join(", ")}`;let o=".";Be(e.requiredType.bestFittingType.type)&&(o=`:
`+Pt(e.requiredType.bestFittingType.type));let a=`${e.requiredType.inputType.map(u=>T.default.greenBright(ur(Rt(u.type),e.requiredType.bestFittingType.isList))).join(" or ")}${o}`;const l=e.requiredType.inputType.length===2&&e.requiredType.inputType.find(u=>Be(u.type))||null;return l&&(a+=`
`+Pt(l.type,!0)),`Argument ${T.default.bold(e.argName)}: Got invalid value ${T.default.redBright(i)}${s?"":" "}on ${T.default.bold(`prisma.${this.children[0].name}`)}. Provided ${T.default.redBright(_t(e.providedValue))}, expected ${a}`}if(e.type==="invalidNullArg"){const i=t.length===1&&t[0]===e.name?"":` for ${T.default.bold(`${t.join(".")}`)}`,s=` Please use ${T.default.bold.greenBright("undefined")} instead.`;return`Argument ${T.default.greenBright(e.name)}${i} must not be ${T.default.bold("null")}.${s}`}if(e.type==="missingArg"){const i=t.length===1&&t[0]===e.missingName?"":` for ${T.default.bold(`${t.join(".")}`)}`;return`Argument ${T.default.greenBright(e.missingName)}${i} is missing.`}if(e.type==="atLeastOne"){const i=n?"":` Available args are listed in ${T.default.dim.green("green")}.`;return`Argument ${T.default.bold(t.join("."))} of type ${T.default.bold(e.inputType.name)} needs ${T.default.greenBright("at least one")} argument.${i}`}if(e.type==="atMostOne"){const i=n?"":` Please choose one. ${T.default.dim("Available args:")} 
${Pt(e.inputType,!0)}`;return`Argument ${T.default.bold(t.join("."))} of type ${T.default.bold(e.inputType.name)} needs ${T.default.greenBright("exactly one")} argument, but you provided ${e.providedKeys.map(s=>T.default.redBright(s)).join(" and ")}.${i}`}};this.type=e,this.children=t}toString(){return`${this.type} {
${$e.default(this.children.map(String).join(`
`),fr)}
}`}validate(e,t=!1,r,n,i){e||(e={});const s=this.children.filter(m=>m.hasInvalidChild||m.hasInvalidArg);if(s.length===0)return;const o=[],a=[],l=e&&e.select?"select":e.include?"include":void 0;for(const m of s){const w=m.collectErrors(l);o.push(...w.fieldErrors.map(M=>({...M,path:t?M.path:M.path.slice(1)}))),a.push(...w.argErrors.map(M=>({...M,path:t?M.path:M.path.slice(1)})))}const u=this.children[0].name,c=t?this.type:u,d=[],p=[],f=[];for(const m of o){const w=this.normalizePath(m.path,e).join(".");if(m.error.type==="invalidFieldName"){d.push(w);const M=m.error.outputType,{isInclude:b}=m.error;M.fields.filter(v=>b?v.outputType.kind==="object":!0).forEach(v=>{const A=w.split(".");f.push({path:`${A.slice(0,A.length-1).join(".")}.${v.name}`,type:"true",isRequired:!1})})}else m.error.type==="includeAndSelect"?(d.push("select"),d.push("include")):p.push(w);if(m.error.type==="emptySelect"||m.error.type==="noTrueSelect"||m.error.type==="emptyInclude"){const M=this.normalizePath(m.path,e),b=M.slice(0,M.length-1).join("."),v=m.error.field.outputType.type;v.fields.filter(A=>m.error.type==="emptyInclude"?A.outputType.kind==="object":!0).forEach(A=>{f.push({path:`${b}.${A.name}`,type:"true",isRequired:!1})})}}for(const m of a){const w=this.normalizePath(m.path,e).join(".");if(m.error.type==="invalidName")d.push(w);else if(m.error.type!=="missingArg"&&m.error.type!=="atLeastOne")p.push(w);else if(m.error.type==="missingArg"){const M=m.error.missingType.length===1?m.error.missingType[0].type:m.error.missingType.map(b=>cr(b.type)).join(" | ");f.push({path:w,type:Bi(M,!0,w.split("where.").length===2),isRequired:m.error.missingType[0].isRequired})}}const h=m=>{const w=a.some(q=>q.error.type==="missingArg"&&q.error.missingType[0].isRequired),M=a.some(q=>q.error.type==="missingArg"&&!q.error.missingType[0].isRequired),b=M||w;let v="";w&&(v+=`
${T.default.dim("Note: Lines with ")}${T.default.reset.greenBright("+")} ${T.default.dim("are required")}`),M&&(v.length===0&&(v=`
`),w?v+=T.default.dim(`, lines with ${T.default.green("?")} are optional`):v+=T.default.dim(`Note: Lines with ${T.default.green("?")} are optional`),v+=T.default.dim("."));const A=`${a.filter(q=>q.error.type!=="missingArg"||q.error.missingType[0].isRequired).map(q=>this.printArgError(q,b,n==="minimal")).join(`
`)}
${o.map(q=>this.printFieldError(q,f,n==="minimal")).join(`
`)}`;if(n==="minimal")return Yi.default(A);const{stack:P,indent:Q,afterLines:K}=bn({callsite:m,originalMethod:r||c,showColors:n&&n==="pretty",isValidationError:!0});let x={ast:t?{[u]:e}:e,keyPaths:d,valuePaths:p,missingItems:f};(r==null?void 0:r.endsWith("aggregate"))&&(x=Xg(x));const X=`${P}${$e.default(gn(x),Q).slice(Q)}${T.default.dim(K)}

${A}${v}
`;return process.env.NO_COLOR||n==="colorless"?Yi.default(X):X},y=new pn(h(i));throw process.env.NODE_ENV!=="production"&&Object.defineProperty(y,"render",{get:()=>h,enumerable:!1}),y}normalizePath(e,t){const r=e.slice(),n=[];let i,s=t;for(;(i=r.shift())!==void 0;){if(!Array.isArray(s)&&i===0)continue;i==="select"?s[i]?s=s[i]:s=s.include:s&&s[i]&&(s=s[i]),n.push(i)}return n}}class pn extends Error{}class te{constructor({name:e,args:t,children:r,error:n,schemaField:i}){this.name=e,this.args=t,this.children=r,this.error=n,this.schemaField=i,this.hasInvalidChild=r?r.some(s=>Boolean(s.error||s.hasInvalidArg||s.hasInvalidChild)):!1,this.hasInvalidArg=t?t.hasInvalidArg:!1}toString(){let e=this.name;return this.error?e+" # INVALID_FIELD":(this.args&&this.args.args&&this.args.args.length>0&&(this.args.args.length===1?e+=`(${this.args.toString()})`:e+=`(
${$e.default(this.args.toString(),fr)}
)`),this.children&&(e+=` {
${$e.default(this.children.map(String).join(`
`),fr)}
}`),e)}collectErrors(e="select"){const t=[],r=[];if(this.error&&t.push({path:[this.name],error:this.error}),this.children)for(const n of this.children){const i=n.collectErrors(e);t.push(...i.fieldErrors.map(s=>({...s,path:[this.name,e,...s.path]}))),r.push(...i.argErrors.map(s=>({...s,path:[this.name,e,...s.path]})))}return this.args&&r.push(...this.args.collectErrors().map(n=>({...n,path:[this.name,...n.path]}))),{fieldErrors:t,argErrors:r}}}class C{constructor(e=[]){this.args=e,this.hasInvalidArg=e?e.some(t=>Boolean(t.hasError)):!1}toString(){return this.args.length===0?"":`${this.args.map(e=>e.toString()).filter(e=>e).join(`
`)}`}collectErrors(){return this.hasInvalidArg?Ji(this.args,e=>e.collectErrors()):[]}}function Mn(e,t,r,n,i){return i?e&&e.values&&e.__prismaRawParamaters__?JSON.stringify(e.values):JSON.stringify(JSON.stringify(e)):e===void 0?null:e===null?"null":n&&typeof e=="string"?e:n&&Array.isArray(e)?`[${e.join(", ")}]`:JSON.stringify(e,t,r)}class j{constructor({key:e,value:t,argType:r,isEnum:n=!1,error:i,schemaArg:s}){this.key=e,this.value=t,this.argType=r,this.isEnum=n,this.error=i,this.schemaArg=s,this.isNullable=(s==null?void 0:s.inputType.reduce((o,a)=>o&&a.isNullable,!0))||!1,this.hasError=Boolean(i)||(t instanceof C?t.hasInvalidArg:!1)||Array.isArray(t)&&t.some(o=>o instanceof C?o.hasInvalidArg:!1)}_toString(e,t){var r;if(typeof e=="undefined")return;if(e instanceof C)return e.args.length===1&&e.args[0].key==="set"&&((r=e.args[0].schemaArg)==null?void 0:r.inputType[0].type)==="Json"?`${t}: {
  set: ${Mn(e.args[0].value,null,2,this.isEnum,!0)}
}`:`${t}: {
${$e.default(e.toString(),2)}
}`;if(Array.isArray(e)){if(this.argType==="Json")return`${t}: ${Mn(e,null,2,this.isEnum,this.argType==="Json")}`;const n=!e.some(i=>typeof i=="object");return`${t}: [${n?"":`
`}${$e.default(e.map(i=>i instanceof C?`{
${$e.default(i.toString(),fr)}
}`:Mn(i,null,2,this.isEnum)).join(`,${n?" ":`
`}`),n?0:fr)}${n?"":`
`}]`}return`${t}: ${Mn(e,null,2,this.isEnum,this.argType==="Json")}`}toString(){return this._toString(this.value,this.key)}collectErrors(){if(!this.hasError)return[];const e=[];return this.error&&e.push({error:this.error,path:[this.key]}),Array.isArray(this.value)&&e.push(...Ji(this.value,(t,r)=>t.collectErrors?t.collectErrors().map(n=>({...n,path:[this.key,r,...n.path]})):[])),this.value instanceof C&&e.push(...this.value.collectErrors().map(t=>({...t,path:[this.key,...t.path]}))),e}}function or({dmmf:e,rootTypeName:t,rootField:r,select:n}){n||(n={});const i=t==="query"?e.queryType:e.mutationType,s={args:[],outputType:{isList:!1,isRequired:!0,type:i,kind:"object"},name:t},o=Oc(e,{[r]:n},s,[t]);return new Vi(t,o)}function ar(e){function t(n){return new C(n.args.map(i=>{var s,o,a,l,u,c,d;if(Ic(i.value)){const p=i.value.map(f=>t(f));return new j({...i,value:p})}else if(i.value instanceof C&&(i.schemaArg&&!i.schemaArg.isRelationFilter))for(let p=i.value.args.length;p--;){const f=i.value.args[p];if(f.key==="not"&&(typeof f.value!="object"||f.argType==="DateTime"||f.argType==="Json")&&(f.value instanceof C||(f.value=new C([new j({key:"equals",value:f.value,argType:f.argType,schemaArg:f.schemaArg})]))),f.key==="notIn"){let h=i.value.args.find(w=>w.key==="not");h||(h=new j({key:"not",value:new C,argType:f.argType,schemaArg:f.schemaArg}),i.value.args.push(h)),(typeof h.value!="object"||h.argType==="DateTime"||h.value===null||h.argType==="Json")&&(h.value instanceof C||(h.value=new C([new j({key:"equals",value:h.value,argType:h.argType,schemaArg:h.schemaArg})])));const y=h.value.args.findIndex(w=>w.key==="in"),m=new j({key:"in",value:f.value,argType:f.argType,schemaArg:f.schemaArg});y>-1?(m.value.push(...h.value.args[y].value),h.value.args[y]=m):h.value.args.push(m),i.value.args.splice(p,1)}}return i.isEnum||typeof i.argType=="string"&&pc(i.argType)?(typeof i.value!="object"||i.argType==="DateTime"||i.argType==="Json"||i.value===null)&&(i.value instanceof C||(i.value=new C([new j({key:"equals",value:i.value,argType:i.argType,schemaArg:i.schemaArg})]))):typeof i.value=="object"&&((s=i.schemaArg)==null?void 0:s.inputType[0].kind)==="object"&&i.key!=="is"&&i.argType!=="Json"&&!(typeof((o=i.schemaArg)==null?void 0:o.inputType[0].type)=="object"&&((a=i.schemaArg)==null?void 0:a.inputType[0].type.name.includes("ListRelationFilter")))&&!(typeof i.argType=="object"&&((u=(l=i.argType)==null?void 0:l.name)==null?void 0:u.startsWith("Json")))&&!(typeof i.argType=="object"&&((d=(c=i.argType)==null?void 0:c.name)==null?void 0:d.startsWith("NestedJson")))&&(i.value instanceof C?i.value.args.find(p=>p.key==="is")||(i.value=new C([new j({key:"is",value:i.value,argType:i.argType,schemaArg:i.schemaArg})])):i.value===null&&(i.value=new C([new j({key:"is",value:i.value,argType:i.argType,schemaArg:i.schemaArg})]))),i}))}function r(n){const{value:i}=n;return i instanceof C&&(i.args=i.args.map(s=>{var o,a,l,u,c;if(((o=s.schemaArg)==null?void 0:o.inputType.length)===2&&(s.schemaArg.inputType[0].kind==="scalar"||s.schemaArg.inputType[0].kind==="enum")&&!(s.value instanceof C&&["set","increment","decrement","multiply","divide"].includes(s.value.args[0].key))){const d=(a=s.schemaArg)==null?void 0:a.inputType[1];s.argType=(d==null?void 0:d.type).name,s.value=new C([new j({key:"set",value:s.value,schemaArg:s.schemaArg})])}else if(((l=s.schemaArg)==null?void 0:l.inputType.length)===1&&((u=s.schemaArg)==null?void 0:u.inputType[0].type)==="Json"){const d=(c=s.schemaArg)==null?void 0:c.inputType[0];s.argType=(d==null?void 0:d.type).name,s.value=new C([new j({key:"set",value:s.value,schemaArg:s.schemaArg,argType:"Json"})])}return s})),n}return Sc(e,{Arg:{enter(n){const{argType:i,schemaArg:s}=n;if(!i)return;if(Be(i)){if(i.isWhereType&&s){let{value:o}=n;return Ic(n.value)?o=n.value.map(a=>t(a)):n.value instanceof C&&(o=t(n.value)),new j({...n,value:o})}if(i.isUpdateType&&s)return r(n)}return}}})}function Ic(e){return Array.isArray(e)?e.every(t=>t instanceof C):!1}function Oc(e,t,r,n){const i=r.outputType.type;return Object.entries(t).reduce((s,[o,a])=>{const l=i.fieldMap?i.fieldMap[o]:i.fields.find(m=>m.name===o);if(!l)return s.push(new te({name:o,children:[],error:{type:"invalidFieldName",modelName:i.name,providedName:o,didYouMean:fn(o,i.fields.map(m=>m.name)),outputType:i}})),s;if(typeof a!="boolean"&&l.outputType.kind==="scalar"&&l.name!=="executeRaw"&&l.name!=="queryRaw"&&i.name!=="Query"&&!o.startsWith("aggregate")&&l.name!=="count")return s.push(new te({name:o,children:[],error:{type:"invalidFieldType",modelName:i.name,fieldName:o,providedValue:a}})),s;if(a===!1)return s;const u={name:l.name,fields:l.args},c=typeof a=="object"?mn(a,["include","select"]):void 0,d=c?Qi(c,u,[],typeof l=="string"?void 0:l.outputType.type):void 0,p=l.outputType.kind==="object";if(a){if(a.select&&a.include)s.push(new te({name:o,children:[new te({name:"include",args:new C,error:{type:"includeAndSelect",field:l}})]}));else if(a.include){const m=Object.keys(a.include);if(m.length===0)return s.push(new te({name:o,children:[new te({name:"include",args:new C,error:{type:"emptyInclude",field:l}})]})),s;if(l.outputType.kind==="object"){const w=l.outputType.type,M=w.fields.filter(v=>v.outputType.kind==="object").map(v=>v.name),b=m.filter(v=>!M.includes(v));if(b.length>0)return s.push(...b.map(v=>new te({name:v,children:[new te({name:v,args:new C,error:{type:"invalidFieldName",modelName:w.name,outputType:w,providedName:v,didYouMean:fn(v,M)||void 0,isInclude:!0,isIncludeScalar:w.fields.some(A=>A.name===v)}})]}))),s}}else if(a.select){const m=Object.values(a.select);if(m.length===0)return s.push(new te({name:o,children:[new te({name:"select",args:new C,error:{type:"emptySelect",field:l}})]})),s;const w=m.filter(M=>M);if(w.length===0)return s.push(new te({name:o,children:[new te({name:"select",args:new C,error:{type:"noTrueSelect",field:l}})]})),s}}const f=p?kc(l.outputType.type):null;let h=f;a&&(a.select?h=a.select:a.include&&(h=dr(f,a.include)));const y=h!==!1&&p?Oc(e,h,l,[...n,o]):void 0;return s.push(new te({name:o,args:d,children:y,schemaField:l})),s},[])}function kc(e){return e.fields.reduce((t,r)=>(r.outputType.kind==="scalar"||r.outputType.kind==="enum"?t[r.name]=!0:r.outputType.type.isEmbedded&&(t[r.name]={select:kc(r.outputType.type)}),t),{})}function Ki(e,t,r,n){const i=new j({key:e,value:t,isEnum:n.kind==="enum",argType:n.type,error:{type:"invalidType",providedValue:t,argName:e,requiredType:{inputType:r.inputType,bestFittingType:n}}});return i}function Zg(e,t,r){const{type:n}=r,i=t.inputType[0].isList,s=ur(Rt(n),i),o=_t(e,n);return i&&o==="List<>"||(s==="Json"||(o==="DateTime"&&s==="String"||(o==="List<DateTime>"&&s==="List<String>"||(o==="UUID"&&s==="String"||(o==="List<UUID>"&&s==="List<String>"||(o==="String"&&s==="ID"||(o==="List<String>"&&s==="List<ID>"||(s==="List<String>"&&(o==="List<String | UUID>"||o==="List<UUID | String>")||(o==="Int"&&s==="Float"||(o==="List<Int>"&&s==="List<Float>"||(o==="Int"&&s==="Long"||(o==="List<Int>"&&s==="List<Long>"||o===s))))))))))))?!0:!r.isRequired&&e===null}const vn=e=>zi(e,(t,r)=>r!==void 0);function ey(e,t,r){const n=r.inputType[0];if(typeof t=="undefined")return n.isRequired?new j({key:e,value:t,isEnum:n.kind==="enum",error:{type:"missingArg",missingName:e,missingType:r.inputType,atLeastOne:!1,atMostOne:!1}}):null;if(t===null&&r.inputType.length===1){const u=r.inputType[0];if(Be(u.type)&&u.type.isOrderType)return null}const i=r.inputType[0].isNullable||(r.inputType.length>1?r.inputType[1].isNullable:!1),s=r.inputType[0].isRequired||(r.inputType.length>1?r.inputType[1].isRequired:!1);if(t===null&&!i&&!s){const u=Be(r.inputType[0].type)?r.inputType[0].type.atLeastOne:!1;if(!u)return new j({key:e,value:t,isEnum:n.kind==="enum",error:{type:"invalidNullArg",name:e,invalidType:r.inputType,atLeastOne:!1,atMostOne:!1}})}if(!n.isList){const u=r.inputType.map(p=>{if(Be(p.type)){if(typeof t!="object")return Ki(e,t,r,p);{let f=vn(t);if(p.type.isWhereType&&f)for(const w of p.type.fields)w.nullEqualsUndefined&&f[w.name]===null&&delete f[w.name];p.type.isOrderType&&(f=zi(f,(w,M)=>M!==null));let h;const y=Object.keys(f||{}),m=y.length;return m===0&&p.type.atLeastOne?h={type:"atLeastOne",key:e,inputType:p.type}:m>1&&p.type.isOneOf?h={type:"atMostOne",key:e,inputType:p.type,providedKeys:y}:m>1&&p.type.atMostOne&&(h={type:"atMostOne",key:e,inputType:p.type,providedKeys:y}),new j({key:e,value:f===null?null:Qi(f,p.type,r.inputType),isEnum:n.kind==="enum",error:h,argType:p.type,schemaArg:r})}}else return Xi(e,t,r,p)});if(u.length===1)return u[0];const c=u.find(p=>!p.hasError);if(c)return c;const d=(p,f)=>f===null&&(p==="null"||!Be(p))?!0:Be(p)?typeof f=="object":typeof f!="object";if(u.length>1){const p=u.filter(y=>d(y.argType,t)),f=p.length>0?p:u,h=f.reduce((y,m)=>{const w=m.collectErrors().length;return w<y.numErrors?{arg:m,numErrors:w}:y},{arg:null,numErrors:Infinity});return h.arg}}if(r.inputType.length>1)throw new Error("List types with union input types are not supported");if(!Array.isArray(t)){if(e==="OR"&&r.name==="OR"&&r.isRelationFilter)return Xi(e,t,r,n);t=[t]}if(n.kind==="enum"||n.kind==="scalar")return Xi(e,t,r,n);const o=n.type,a=o.atLeastOne?t.some(u=>!u||Object.keys(vn(u)).length===0):!1;let l=a?{inputType:o,key:e,type:"atLeastOne"}:void 0;if(!l){const u=o.isOneOf?t.find(c=>!c||Object.keys(vn(c)).length!==1):!1;u&&(l={inputType:o,key:e,type:"atMostOne",providedKeys:Object.keys(u)})}return new j({key:e,value:t.map(u=>typeof u!="object"||!t?Ki(e,u,r,n):Qi(u,n.type)),isEnum:!1,argType:n.type,schemaArg:r,error:l})}function Be(e){return typeof e=="string"?!1:!e.hasOwnProperty("values")}function Xi(e,t,r,n){return Zg(t,r,n)?new j({key:e,value:t,isEnum:r.inputType[0].kind==="enum",argType:n.type,schemaArg:r}):Ki(e,t,r,n)}function Qi(e,t,r,n){const i=vn(e),{fields:s,fieldMap:o}=t,a=s.filter(c=>c.inputType.some(d=>d.isRequired)).map(c=>[c.name,void 0]),l=fc(Object.entries(i||{}),a,c=>c[0]),u=l.reduce((c,[d,p])=>{const f=o?o[d]:s.find(y=>y.name===d);if(!f){const y=typeof p=="boolean"&&n&&n.fields.some(m=>m.name===d)?d:null;return c.push(new j({key:d,value:p,error:{type:"invalidName",providedName:d,providedValue:p,didYouMeanField:y,didYouMeanArg:!y&&fn(d,[...s.map(m=>m.name),"select"])||void 0,originalType:t,possibilities:r,outputType:n}})),c}const h=ey(d,p,f);return h&&c.push(h),c},[]);if(l.length===0&&t.atLeastOne||u.find(c=>c.error&&c.error.type==="missingArg")){const c=t.fields.filter(d=>!l.some(([p])=>p===d.name));u.push(...c.map(d=>{const p=d.inputType[0];return new j({key:d.name,value:void 0,isEnum:p.kind==="enum",error:{type:"missingArg",missingName:d.name,missingType:d.inputType,atLeastOne:t.atLeastOne||!1,atMostOne:t.atMostOne||!1}})}))}return new C(u)}function lr({document:e,path:t,data:r}){const n=Gi(r,t);if(n==="undefined")return null;if(typeof n!="object")return n;const i=ty(e,t),s=Zi({field:i,data:n});return es({field:i,data:s})}function Zi({field:e,data:t}){if(!t||typeof t!="object"||!e.children||!e.schemaField)return t;for(const r of e.children){if(r.schemaField&&r.schemaField.outputType.type==="DateTime")if(Array.isArray(t))for(const n of t)typeof n[r.name]!="undefined"&&(n[r.name]=n[r.name]?new Date(n[r.name]):n[r.name]);else typeof t[r.name]!="undefined"&&(t[r.name]=t[r.name]?new Date(t[r.name]):t[r.name]);if(r.schemaField&&r.schemaField.outputType.kind==="object")if(Array.isArray(t))for(const n of t)Zi({field:r,data:n[r.name]});else Zi({field:r,data:t[r.name]})}return t}function es({field:e,data:t}){if(!t||typeof t!="object"||!e.children||!e.schemaField)return t;for(const r of e.children){if(r.schemaField&&r.schemaField.outputType.type==="Json")if(Array.isArray(t))for(const n of t)typeof n[r.name]!="undefined"&&(n[r.name]=n[r.name]?JSON.parse(n[r.name]):n[r.name]);else typeof t[r.name]!="undefined"&&(t[r.name]=t[r.name]?JSON.parse(t[r.name]):t[r.name]);if(r.schemaField&&r.schemaField.outputType.kind==="object")if(Array.isArray(t))for(const n of t)es({field:r,data:n[r.name]});else es({field:r,data:t[r.name]})}return t}function ty(e,t){const r=t.slice(),n=r.shift();let i=e.children.find(s=>s.name===n);if(!i)throw new Error(`Could not find field ${n} in document ${e}`);for(;r.length>0;){const s=r.shift();if(!i.children)throw new Error(`Can't get children for field ${i} with child ${s}`);const o=i.children.find(a=>a.name===s);if(!o)throw new Error(`Can't find child ${s} of field ${i}`);i=o}return i}function ts(e){return e.split(".").filter(t=>t!=="select").join(".")}function rs(e){const t=Object.prototype.toString.call(e);if(t==="[object Object]"){const r={};for(const n in e)if(n==="select")for(const i in e.select)r[i]=rs(e.select[i]);else r[n]=rs(e[n]);return r}return e}function Xg({ast:e,keyPaths:t,missingItems:r,valuePaths:n}){const i=t.map(ts),s=n.map(ts),o=r.map(l=>({path:ts(l.path),isRequired:l.isRequired,type:l.type})),a=rs(e);return{ast:a,keyPaths:i,missingItems:o,valuePaths:s}}function Rc(e){return typeof e=="string"?e:e.reduce((t,r)=>{const n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}function Pc(e,t,r){const n=_c(e,r),i=_c(t,r),s=Object.values(i).map(a=>a[a.length-1]),o=Object.keys(i);return Object.entries(n).forEach(([a,l])=>{o.includes(a)||s.push(l[l.length-1])}),s}const _c=(e,t)=>e.reduce((r,n)=>{const i=t(n);return r[i]||(r[i]=[]),r[i].push(n),r},{});class Lc{constructor(e){this.options=e;this.tickActive=!1;this.batches={}}request(e){const t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(const e in this.batches){const t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(r=>{r instanceof Error?t[0].reject(r):t[0].resolve(r)}).catch(r=>{t[0].reject(r)}):this.options.batchLoader(t.map(r=>r.request)).then(r=>{if(r instanceof Error)for(let n=0;n<t.length;n++)t[n].reject(r);else for(let n=0;n<t.length;n++){const i=r[n];i instanceof Error?t[n].reject(i):t[n].resolve(i)}}).catch(r=>{for(let n=0;n<t.length;n++)t[n].reject(r)})}}}function et(e){return JSON.stringify(ns(e))}function ns(e){const t=Object.prototype.toString.call(e);if(t==="[object Date]")return{prisma__type:"date",prisma__value:e.toJSON()};if(t==="[object Object]"){const r={};for(let n in e)n!=="__proto__"&&(r[n]=ns(e[n]));return r}if(t==="[object Array]"){let r=e.length,n;for(n=new Array(r);r--;)n[r]=ns(e[r]);return n}return e}const hr=_(require("path")),pe=_(ji()),is=_(Pi()),Tn=_($t()),ss=_(require("fs")),De=_(ve()),os=_(Li()),Nc=_(ac()),qc=_(lc()),Fc=_(Ft()),jc=_(uc()),$c=_(require("async_hooks")),fe=Tn.default("prisma-client"),ry={findOne:"query",findMany:"query",count:"query",create:"mutation",update:"mutation",updateMany:"mutation",upsert:"mutation",delete:"mutation",deleteMany:"mutation",executeRaw:"mutation",queryRaw:"mutation",aggregate:"query"},ny={avg:!0,count:!0,sum:!0,min:!0,max:!0};function Fi(e){class t{constructor(r){this._middlewares=[];this._engineMiddlewares=[];var h,y,m,w,M;const n=r!=null?r:{},i=(h=n.__internal)!=null?h:{},s=i.debug===!0;s&&Tn.default.enable("prisma-client"),i.hooks&&(this._hooks=i.hooks);let o=(y=e.sqliteDatasourceOverrides)!=null?y:[];o=o.map(b=>({name:b.name,url:"file:"+hr.default.resolve(e.dirname,b.url)}));const a=Object.entries(n.datasources||{}).filter(([b,v])=>v&&v.url).map(([b,{url:v}])=>({name:b,url:v})),l=Pc(o,a,b=>b.name),u=i.engine||{};n.errorFormat?this._errorFormat=n.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless";const c=this.readEnv();this._dmmf=new sr(e.document);let d=hr.default.resolve(e.dirname,e.relativePath);ss.default.existsSync(d)||(d=e.dirname);const p=(w=(m=e.generator)==null?void 0:m.previewFeatures)!=null?w:[];this._engineConfig={cwd:d,enableDebugLogs:s,enableEngineDebugMode:u.enableEngineDebugMode,datamodelPath:hr.default.join(e.dirname,"schema.prisma"),prismaPath:(M=u.binaryPath)!=null?M:void 0,engineEndpoint:u.endpoint,datasources:l,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:n.log&&Rc(n.log),logQueries:n.log&&Boolean(typeof n.log=="string"?n.log==="query":n.log.find(b=>typeof b=="string"?b==="query":b.level==="query")),env:c,flags:[],clientVersion:e.clientVersion,enableExperimental:jc.mapPreviewFeatures(p),useUds:i.useUds};const f=mn(this._engineConfig,["env","datasources"]);if(fe({engineConfig:f}),this._engine=new is.NodeEngine(this._engineConfig),this._fetcher=new iy(this,!1,this._hooks),n.log)for(const b of n.log){const v=typeof b=="string"?b:b.emit==="stdout"?b.level:null;v&&this.$on(v,A=>{const P={query:"blue",info:"cyan",warn:"yellow",error:"red"};console.error(De.default[P[v]](`prisma:${v}`.padEnd(13))+(A.message||A.query))})}this._bootstrapClient()}readEnv(){const r=hr.default.resolve(e.dirname,e.relativePath,".env");return ss.default.existsSync(r)?qc.dotenvExpand(Nc.default.config({path:r})).parsed:{}}use(...r){return console.warn(`${De.default.yellow("warn")} prisma.use() is deprecated, please use prisma.$use() instead`),this.$use(...r)}$use(r,n){if(typeof r=="function")this._middlewares.push(r);else if(typeof r=="string")if(r==="all")this._middlewares.push(n);else if(r==="engine")this._engineMiddlewares.push(n);else throw new Error(`Unknown middleware hook ${r}`);else throw new Error(`Invalid middleware ${r}`)}on(r,n){return console.warn(`${De.default.yellow("warn")} prisma.on() is deprecated, please use prisma.$on() instead`),this.$on(r,n)}$on(r,n){this._engine.on(r,i=>{const s=i.fields;r==="query"?n({timestamp:i.timestamp,query:s.query,params:s.params,duration:s.duration_ms,target:i.target}):n({timestamp:i.timestamp,message:s.message,target:i.target})})}connect(){return console.warn(`${De.default.yellow("warn")} prisma.connect() is deprecated, please use prisma.$connect() instead`),this.$connect()}async $connect(){return this._engine.start()}async _runDisconnect(){await this._engine.stop(),delete this._connectionPromise,this._engine=new is.NodeEngine(this._engineConfig),delete this._disconnectionPromise,delete this._getConfigPromise}disconnect(){return console.warn(`${De.default.yellow("warn")} prisma.disconnect() is deprecated, please use prisma.$disconnect() instead`),this.$disconnect()}async $disconnect(){return this._engine.stop()}async _getActiveProvider(){const r=await this._engine.getConfig();return r.datasources[0].activeProvider}executeRaw(r,...n){return console.warn(`${De.default.yellow("warn")} prisma.executeRaw() is deprecated, please use prisma.$executeRaw() instead`),this.$executeRaw(r,...n)}async $executeRaw(r,...n){let i="",s;const o=await this._getActiveProvider()==="postgresql"?"text":"sql";if(fe("Prisma Client call:"),Array.isArray(r)){const l=os.sqltag(r,...n);i=l[o],s={values:et(l.values),__prismaRawParamaters__:!0}}else typeof r=="string"?(i=r,n.length&&(s={values:et(n),__prismaRawParamaters__:!0})):(i=r[o],s={values:et(r.values),__prismaRawParamaters__:!0});(s==null?void 0:s.values)?fe(`prisma.executeRaw(${i}, ${s.values})`):fe(`prisma.executeRaw(${i})`);const a={query:i,parameters:s};return this._request({args:a,clientMethod:"executeRaw",dataPath:[],action:"executeRaw",callsite:this._getCallsite(),runInTransaction:!1})}_getCallsite(){return this._errorFormat!=="minimal"?new Error().stack:void 0}queryRaw(r,...n){return console.warn(`${De.default.yellow("warn")} prisma.queryRaw() is deprecated, please use prisma.$queryRaw() instead`),this.$queryRaw(r,...n)}async $queryRaw(r,...n){let i="",s;const o=await this._getActiveProvider()==="postgresql"?"text":"sql";if(fe("Prisma Client call:"),Array.isArray(r)){const l=os.sqltag(r,...n);i=l[o],s={values:et(l.values),__prismaRawParamaters__:!0}}else typeof r=="string"?(i=r,n.length&&(s={values:et(n),__prismaRawParamaters__:!0})):(i=r[o],s={values:et(r.values),__prismaRawParamaters__:!0});(s==null?void 0:s.values)?fe(`prisma.queryRaw(${i}, ${s.values})`):fe(`prisma.queryRaw(${i})`);const a={query:i,parameters:s};return this._request({args:a,clientMethod:"queryRaw",dataPath:[],action:"queryRaw",callsite:this._getCallsite(),runInTransaction:!1})}async __internal_triggerPanic(r){if(!this._engineConfig.enableEngineDebugMode)throw new Error(`In order to use .__internal_triggerPanic(), please enable the debug mode like so:
new PrismaClient({
  __internal: {
    engine: {
      enableEngineDebugMode: true
    }
  }
})`);const n="SELECT 1",i=r?{"X-DEBUG-FATAL":"1"}:{"X-DEBUG-NON-FATAL":"1"};return this._request({action:"queryRaw",args:{query:n,parameters:void 0},clientMethod:"queryRaw",dataPath:[],runInTransaction:!1,headers:i,callsite:this._getCallsite()})}transaction(r){return console.warn(`${De.default.yellow("warn")} prisma.transaction() is deprecated, please use prisma.$transaction() instead`),this.$transaction(r)}async $transaction(r){var n,i;if((i=(n=e.generator)==null?void 0:n.previewFeatures)==null?void 0:i.includes("transactionApi")){for(const s of r)if(!s.requestTransaction||typeof s.requestTransaction!="function")throw new Error("All elements of the array need to be Prisma Client promises.");return Promise.all(r.map(s=>s.requestTransaction()))}else throw new Error(`In order to use the .transaction() api, please enable 'previewFeatures = "transactionApi" in your schema.`)}_request(r){const n=new $c.AsyncResource("prisma-client-request");if(this._middlewares.length>0){const i={args:r.args,dataPath:r.dataPath,runInTransaction:r.runInTransaction,action:r.action,model:r.model};return n.runInAsyncScope(()=>this._requestWithMiddlewares(i,this._middlewares.slice(),r.clientMethod,r.callsite,r.headers))}return n.runInAsyncScope(()=>this._executeRequest(r))}_requestWithMiddlewares(r,n,i,s,o){const a=n.shift();return a?a(r,l=>this._requestWithMiddlewares(l,n,i,s)):(r.clientMethod=i,r.callsite=s,r.headers=o,this._executeRequest(r))}_executeRequest({args:r,clientMethod:n,dataPath:i,callsite:s,runInTransaction:o,action:a,model:l,headers:u}){if(a!=="executeRaw"&&a!=="queryRaw"&&!l)throw new Error(`Model missing for action ${a}`);if((a==="executeRaw"||a==="queryRaw")&&l)throw new Error(`executeRaw and queryRaw can't be executed on a model basis. The model ${l} has been provided`);let c;const d=ry[a];(a==="executeRaw"||a==="queryRaw")&&(c=a);let p;if(l){if(p=this._dmmf.mappingsMap[l],!p)throw new Error(`Could not find mapping for model ${l}`);c=p[a]}if(d!=="query"&&d!=="mutation")throw new Error(`Invalid operation ${d} for action ${a}`);const f=this._dmmf.rootFieldMap[c];if(!f)throw new Error(`Could not find rootField ${c} for action ${a} for model ${l} on rootType ${d}`);const{isList:h}=f.outputType,y=Ze(f.outputType.type);let m=or({dmmf:this._dmmf,rootField:c,rootTypeName:d,select:r});if(m.validate(r,!1,n,this._errorFormat,s),m=ar(m),Tn.default.enabled("prisma-client")){const w=String(m);fe("Prisma Client call:"),fe(`prisma.${n}(${gn({ast:r,keyPaths:[],valuePaths:[],missingItems:[]})})`),fe("Generated request:"),fe(w+`
`)}return this._fetcher.request({document:m,clientMethod:n,typeName:y,dataPath:i,isList:h,rootField:c,callsite:s,showColors:this._errorFormat==="pretty",args:r,engineHook:this._engineMiddlewares[0],runInTransaction:o,headers:u})}_bootstrapClient(){const r=this._dmmf.mappings.reduce((n,i)=>{const s=Ui(i.model),o=this._dmmf.modelMap[i.model];if(!o)throw new Error(`Invalid mapping ${i.model}, can't find model`);const a=({operation:l,actionName:u,args:c,dataPath:d,modelName:p})=>{d=d!=null?d:[];const f=`${s}.${u}`;let h;const y=this._getCallsite(),m=p!=null?p:o.name,w={then:(M,b)=>(h||(h=this._request({args:c,dataPath:d,action:u,model:m,clientMethod:f,callsite:y,runInTransaction:!1})),h.then(M,b)),requestTransaction:()=>(h||(h=this._request({args:c,dataPath:d,action:u,model:m,clientMethod:f,callsite:y,runInTransaction:!0})),h),catch:M=>(h||(h=this._request({args:c,dataPath:d,action:u,model:m,clientMethod:f,callsite:y,runInTransaction:!1})),h.catch(M)),finally:M=>(h||(h=this._request({args:c,dataPath:d,action:u,model:m,clientMethod:f,callsite:y,runInTransaction:!1})),h.finally(M))};for(const M of o.fields.filter(b=>b.kind==="object"))w[M.name]=b=>{const v=d.includes("select")?"select":d.includes("include")?"include":"select",A=[...d,v,M.name],P=hn(c,A,b||!0);return r[M.type]({operation:l,actionName:u,args:P,dataPath:A,isList:M.isList,modelName:p||o.name})};return w};return n[o.name]=a,n},{});for(const n of this._dmmf.mappings){const i=Ui(n.model),s={model:!0,plural:!0,aggregate:!0},o=Object.entries(n).reduce((a,[l,u])=>{if(!s[l]){const c=sy(l);a[l]=d=>r[n.model]({operation:c,actionName:l,args:d})}return a},{});o.count=a=>r[n.model]({operation:"query",actionName:"aggregate",args:a?{...a,select:{count:!0}}:void 0,dataPath:["count"]}),o.aggregate=a=>{const l=Object.entries(a).reduce((u,[c,d])=>(ny[c]?(u.select||(u.select={}),c==="count"?u.select[c]=d:u.select[c]={select:d}):u[c]=d,u),{});return r[n.model]({operation:"query",actionName:"aggregate",rootField:n.aggregate,args:l,dataPath:[]})},this[i]=o}}}return t}class iy{constructor(e,t=!1,r){this.prisma=e,this.debug=t,this.hooks=r,this.dataloader=new Lc({batchLoader:async n=>{const i=n.map(o=>String(o.document)),s=n[0].runInTransaction;return this.prisma._engine.requestBatch(i,s)},singleLoader:async n=>{const i=String(n.document);return this.prisma._engine.request(i,n.headers)},batchBy:n=>{var o;if(n.runInTransaction)return"transaction-batch";if(!n.document.children[0].name.startsWith("findOne"))return null;const i=n.document.children[0].children.join(","),s=(o=n.document.children[0].args)==null?void 0:o.args.map(a=>a.value instanceof C?a.key+"-"+a.value.args.map(l=>l.key).join(","):a.key).join(",");return`${n.document.children[0].name}|${s}|${i}`}})}async request({document:e,dataPath:t=[],rootField:r,typeName:n,isList:i,callsite:s,clientMethod:o,runInTransaction:a,showColors:l,engineHook:u,args:c,headers:d}){if(this.hooks&&this.hooks.beforeRequest){const p=String(e);this.hooks.beforeRequest({query:p,path:t,rootField:r,typeName:n,document:e,isList:i,clientMethod:o,args:c})}try{let p,f;if(u){const y=await u({document:e,runInTransaction:a},m=>this.dataloader.request(m));p=y.data,f=y.elapsed}else{const y=await this.dataloader.request({document:e,runInTransaction:a,headers:d});p=y.data,f=y.elapsed}const h=this.unpack(e,p,t,r);return process.env.PRISMA_CLIENT_GET_TIME?{data:h,elapsed:f}:h}catch(p){fe(p);let f=p.message;if(s){const{stack:h}=bn({callsite:s,originalMethod:o,onUs:p.isPanic,showColors:l});f=h+`
  `+p.message}throw f=this.sanitizeMessage(f),p.code?new pe.PrismaClientKnownRequestError(f,p.code,p.meta):p.isPanic?new pe.PrismaClientRustPanicError(f):p instanceof pe.PrismaClientUnknownRequestError?new pe.PrismaClientUnknownRequestError(f):p instanceof pe.PrismaClientInitializationError?new pe.PrismaClientInitializationError(f):p instanceof pe.PrismaClientRustPanicError?new pe.PrismaClientRustPanicError(f):p}}sanitizeMessage(e){return this.prisma.errorFormat&&this.prisma.errorFormat!=="pretty"?Fc.default(e):e}unpack(e,t,r,n){t.data&&(t=t.data);const i=[];return n&&i.push(n),i.push(...r.filter(s=>s!=="select"&&s!=="include")),lr({document:e,data:t,path:i})}}function sy(e){return e===Ne.ModelAction.findMany||e===Ne.ModelAction.findOne?"query":"mutation"}module.exports=ji();
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
//# sourceMappingURL=index.js.map
